<!DOCTYPE html><html lang=en-US class=light><head><base href=https://framesurge.sh/perseus/><meta charset=UTF-8><meta name=viewport content="width=device-width, initial-scale=1.0"><link rel=stylesheet href=.perseus/static/tailwind.css><link rel=stylesheet href=.perseus/static/styles/style.css><script type=module>window.__PERSEUS_RENDER_CFG = `{"docs/0.3.0-0.3.3/testing/checkpoints":"docs","docs/0.3.0-0.3.3/plugins/tinker":"docs","docs/0.2.x/what-is-perseus":"docs","docs/0.3.4/reference/strategies/incremental":"docs","docs/0.3.0-0.3.3/second-app":"docs","docs/0.4.x/core-principles":"docs","docs/next/fundamentals/static-content":"docs","docs/fundamentals/serving-exporting":"docs","docs/0.3.4/reference/stores":"docs","docs/next/capsules/using":"docs","docs/0.1.x/templates":"docs","docs/0.4.x/first-app/dev-cycle":"docs","docs/0.3.4/reference/templates/router-state":"docs","docs/0.3.0-0.3.3/strategies/request-state":"docs","docs/first-app/deploying":"docs","docs/next/state/browser":"docs","docs/0.2.x/static-content":"docs","docs/0.3.0-0.3.3/advanced/routing":"docs","docs/0.3.4/reference/plugins/publishing":"docs","docs/0.3.0-0.3.3/stores":"docs","docs/0.3.4/reference/deploying/size":"docs","docs/0.3.4/reference/plugins/writing":"docs","docs/next/fundamentals/i18n":"docs","docs/0.2.x/testing/intro":"docs","docs/0.4.x/fundamentals/error-views":"docs","docs/0.3.0-0.3.3/strategies/build-state":"docs","docs/0.2.x/strategies/build-state":"docs","docs/0.3.0-0.3.3/deploying/size":"docs","docs/0.1.x/cli":"docs","docs/0.4.x/capsules/intro":"docs","docs/capsules/capsules-vs-components":"docs","docs/0.3.0-0.3.3/templates/metadata-modification":"docs","docs/next/state/freezing-thawing":"docs","docs/0.3.0-0.3.3/testing/fantoccini-basics":"docs","docs/0.3.4/reference/index-view":"docs","docs/fundamentals/compilation-times":"docs","docs/state/manual":"docs","docs/0.2.x/i18n/translations-managers":"docs","docs/state/browser":"docs","docs/0.3.0-0.3.3/templates/intro":"docs","docs/0.3.4/reference/static-content":"docs","docs/fundamentals/perseus-app":"docs","docs/next/fundamentals/plugins":"docs","docs/next/fundamentals/js-interop":"docs","docs/0.3.4/reference/state/global":"docs","docs/fundamentals/testing":"docs","docs/0.3.0-0.3.3/strategies/incremental":"docs","docs/0.4.x/fundamentals/styling":"docs","docs/0.3.0-0.3.3/ejecting":"docs","docs/0.4.x/fundamentals/perseus-app":"docs","docs/0.3.4/reference/testing/fantoccini-basics":"docs","docs/next/migrating":"docs","docs/0.4.x/first-app/generating-pages":"docs","docs/fundamentals/preloading":"docs","docs/0.2.x/templates/metadata-modification":"docs","docs/0.3.0-0.3.3/deploying/intro":"docs","docs/0.3.4/reference/deploying/relative-paths":"docs","comparisons":"comparisons","docs/next/first-app/installation":"docs","docs/state/freezing-thawing":"docs","docs/0.3.0-0.3.3/debugging":"docs","docs/0.1.x/strategies/request_state":"docs","docs/0.4.x/fundamentals/debugging":"docs","docs/0.3.4/reference/cli":"docs","docs/0.3.4/intro":"docs","docs/next/fundamentals/debugging":"docs","docs/0.3.4/advanced/route-announcer":"docs","docs/next/state/intro":"docs","docs/0.3.4/reference/state/idb-freezing":"docs","plugins":"plugins","docs/next/state/revalidation":"docs","docs/0.3.4/advanced/subsequent-loads":"docs","docs/state/global":"docs","docs/0.1.x/tutorials/first_app/setup":"docs","docs/0.3.4/reference/state/rx":"docs","docs/0.2.x/second-app":"docs","docs/next/state/global":"docs","docs/0.4.x/state/browser":"docs","docs/0.3.0-0.3.3/define-app":"docs","docs/0.3.4/reference/plugins/intro":"docs","docs/0.3.0-0.3.3/deploying/relative-paths":"docs","docs/0.3.0-0.3.3/strategies/revalidation":"docs","docs/capsules/using":"docs","docs/0.3.4/reference/define-app":"docs","docs/0.3.0-0.3.3/i18n/translations-managers":"docs","docs/next/fundamentals/testing":"docs","docs/0.2.x/advanced/initial-loads":"docs","docs/next/fundamentals/preloading":"docs","docs/0.4.x/faq":"docs","docs/next/fundamentals/routing":"docs","docs/next/first-app/defining":"docs","docs/0.3.4/reference/templates/metadata-modification":"docs","docs/0.1.x/config_managers":"docs","docs/intro":"docs","docs/next/fundamentals/serving-exporting":"docs","docs/0.4.x/first-app/error-handling":"docs","docs/0.3.4/reference/exporting":"docs","docs/0.3.4/reference/strategies/request-state":"docs","docs/0.3.0-0.3.3/hello-world":"docs","docs/0.3.0-0.3.3/advanced/subsequent-loads":"docs","docs/next/fundamentals/compilation-times":"docs","docs/0.3.4/reference/pitfalls-and-bugs":"docs","docs/fundamentals/hydration":"docs","docs/next/what-is-perseus":"docs","docs/0.4.x/first-app/deploying":"docs","docs/fundamentals/plugins":"docs","docs/0.3.4/reference/testing/intro":"docs","docs/0.2.x/deploying/intro":"docs","docs/0.4.x/state/freezing-thawing":"docs","docs/0.3.0-0.3.3/plugins/publishing":"docs","docs/0.3.0-0.3.3/advanced/define_app":"docs","docs/0.1.x/arch":"docs","docs/0.3.0-0.3.3/hydration":"docs","docs/0.3.4/reference/updating":"docs","docs/0.3.4/reference/templates/setting-headers":"docs","docs/next/state/incremental":"docs","docs/0.4.x/capsules/using":"docs","docs/0.3.4/reference/server-communication":"docs","docs/next/fundamentals/head-headers":"docs","docs/0.2.x/i18n/other-engines":"docs","docs/state/intro":"docs","docs/0.1.x/strategies/intro":"docs","docs/0.3.0-0.3.3/plugins/security":"docs","docs/fundamentals/debugging":"docs","docs/0.3.4/advanced/routing":"docs","docs/0.3.0-0.3.3/i18n/defining":"docs","docs/next/state/helper":"docs","docs/fundamentals/static-content":"docs","docs/0.1.x/routing":"docs","docs/0.4.x/state/revalidation":"docs","docs/0.2.x/strategies/build-paths":"docs","docs/next/fundamentals/styling":"docs","":"","docs/0.3.4/reference/strategies/build-state":"docs","docs/0.2.x/testing/checkpoints":"docs","docs/0.3.0-0.3.3/strategies/build-paths":"docs","docs/next/state/build":"docs","docs/0.3.0-0.3.3/testing/intro":"docs","docs/0.2.x/strategies/revalidation":"docs","docs/next/state/manual":"docs","docs/0.3.4/reference/plugins/tinker":"docs","docs/0.4.x/state/amalgamation":"docs","docs/next/first-app/error-handling":"docs","docs/fundamentals/js-interop":"docs","docs/state/incremental":"docs","docs/0.4.x/fundamentals/static-content":"docs","docs/next/fundamentals/reactor":"docs","docs/0.3.4/advanced/arch":"docs","docs/0.3.4/reference/plugins/security":"docs","docs/fundamentals/styling":"docs","docs/0.4.x/fundamentals/reactor":"docs","docs/0.4.x/fundamentals/routing":"docs","docs/0.1.x/strategies/build_state":"docs","docs/0.4.x/state/global":"docs","docs/0.1.x/tutorials/first_app/intro":"docs","docs/fundamentals/error-views":"docs","docs/0.3.0-0.3.3/exporting":"docs","docs/0.3.0-0.3.3/strategies/amalgamation":"docs","docs/0.3.4/reference/strategies/build-paths":"docs","docs/0.4.x/fundamentals/preloading":"docs","docs/0.2.x/intro":"docs","docs/0.3.4/reference/testing/checkpoints":"docs","docs/next/state/request":"docs","docs/fundamentals/reactor":"docs","docs/0.2.x/advanced/subsequent-loads":"docs","docs/0.2.x/strategies/amalgamation":"docs","docs/state/amalgamation":"docs","docs/0.2.x/i18n/defining":"docs","docs/0.4.x/fundamentals/i18n":"docs","docs/quickstart":"docs","docs/0.3.0-0.3.3/static-content":"docs","docs/0.3.0-0.3.3/what-is-perseus":"docs","docs/first-app/defining":"docs","docs/state/helper":"docs","docs/0.3.4/reference/debugging":"docs","docs/0.4.x/quickstart":"docs","docs/0.1.x/strategies/revalidation":"docs","docs/0.2.x/advanced/routing":"docs","docs/0.3.0-0.3.3/updating":"docs","docs/0.3.0-0.3.3/views":"docs","docs/next/state/suspense":"docs","docs/0.1.x/intro":"docs","docs/0.2.x/testing/fantoccini-basics":"docs","docs/0.4.x/state/incremental":"docs","docs/0.3.0-0.3.3/plugins/control":"docs","docs/what-is-perseus":"docs","docs/0.3.4/core-principles":"docs","docs/capsules/intro":"docs","docs/0.3.4/reference/live-reloading":"docs","docs/0.2.x/templates/setting-headers":"docs","docs/0.3.4/reference/deploying/serverless":"docs","docs/0.3.0-0.3.3/advanced/arch":"docs","docs/0.4.x/capsules/capsules-vs-components":"docs","docs/0.2.x/deploying/exporting":"docs","docs/0.3.0-0.3.3/templates/setting-headers":"docs","docs/next/capsules/capsules-vs-components":"docs","docs/0.2.x/debugging":"docs","docs/0.4.x/state/suspense":"docs","docs/0.3.4/what-is-perseus":"docs","docs/0.1.x/strategies/incremental":"docs","docs/0.4.x/fundamentals/js-interop":"docs","docs/0.3.4/tutorials/auth":"docs","docs/0.2.x/ejecting":"docs","docs/0.4.x/fundamentals/plugins":"docs","docs/next/faq":"docs","docs/0.4.x/state/helper":"docs","docs/0.2.x/views":"docs","docs/0.2.x/testing/manual":"docs","docs/0.3.0-0.3.3/plugins/functional":"docs","docs/0.3.0-0.3.3/i18n/intro":"docs","docs/0.4.x/state/build":"docs","docs/0.4.x/fundamentals/compilation-times":"docs","docs/next/first-app/generating-pages":"docs","docs/0.4.x/state/intro":"docs","docs/0.2.x/error-pages":"docs","docs/0.3.4/reference/plugins/functional":"docs","docs/0.3.4/reference/i18n/defining":"docs","docs":"docs","docs/0.3.4/reference/error-pages":"docs","docs/0.3.4/reference/plugins/using":"docs","docs/0.3.0-0.3.3/error-pages":"docs","docs/0.3.4/reference/strategies/revalidation":"docs","docs/0.3.4/reference/i18n/intro":"docs","docs/0.3.4/reference/state/freezing":"docs","docs/0.2.x/strategies/incremental":"docs","docs/0.2.x/strategies/request-state":"docs","docs/0.3.0-0.3.3/plugins/intro":"docs","docs/0.1.x/integrations/actix-web":"docs","docs/0.4.x/intro":"docs","docs/0.4.x/state/request":"docs","docs/0.3.4/reference/deploying/intro":"docs","docs/next/fundamentals/error-views":"docs","docs/0.3.0-0.3.3/cli":"docs","docs/0.1.x/building":"docs","docs/0.3.0-0.3.3/advanced/intro":"docs","docs/first-app/error-handling":"docs","docs/state/request":"docs","docs/0.3.4/reference/i18n/other-engines":"docs","docs/0.2.x/updating":"docs","docs/0.3.4/reference/state/hsr":"docs","docs/0.3.4/reference/deploying/serverful":"docs","docs/fundamentals/routing":"docs","docs/state/revalidation":"docs","docs/0.3.0-0.3.3/advanced/initial-loads":"docs","docs/0.3.0-0.3.3/i18n/other-engines":"docs","docs/0.2.x/define-app":"docs","docs/0.4.x/first-app/defining":"docs","docs/0.3.4/reference/ejecting":"docs","docs/0.3.4/reference/perseus-app":"docs","docs/migrating":"docs","docs/0.3.4/reference/engines":"docs","docs/0.3.4/reference/i18n/using":"docs","docs/0.3.4/tutorials/hello-world":"docs","docs/0.3.4/advanced/intro":"docs","docs/0.2.x/strategies/intro":"docs","docs/next/fundamentals/perseus-app":"docs","docs/0.3.0-0.3.3/deploying/docker":"docs","docs/0.3.4/reference/plugins/control":"docs","docs/0.3.0-0.3.3/strategies/intro":"docs","docs/next/core-principles":"docs","docs/next/fundamentals/hydration":"docs","docs/next/first-app/dev-cycle":"docs","docs/next/first-app/deploying":"docs","docs/0.2.x/cli":"docs","docs/0.1.x/tutorials/first_app/template":"docs","docs/0.3.0-0.3.3/deploying/serverful":"docs","docs/0.1.x/tutorials/first_app/app":"docs","docs/0.1.x/setup":"docs","docs/fundamentals/head-headers":"docs","docs/first-app/generating-pages":"docs","docs/0.2.x/advanced/intro":"docs","docs/0.3.0-0.3.3/i18n/using":"docs","docs/0.2.x/i18n/using":"docs","docs/first-app/dev-cycle":"docs","docs/0.3.4/reference/strategies/intro":"docs","docs/next/quickstart":"docs","docs/0.4.x/what-is-perseus":"docs","docs/0.3.0-0.3.3/plugins/using":"docs","docs/0.3.0-0.3.3/deploying/serverless":"docs","docs/0.3.4/reference/strategies/amalgamation":"docs","docs/0.1.x/serving":"docs","docs/0.2.x/config-managers":"docs","docs/0.4.x/migrating":"docs","docs/0.3.4/reference/views":"docs","docs/0.4.x/fundamentals/head-headers":"docs","docs/next/state/amalgamation":"docs","docs/0.4.x/fundamentals/hydration":"docs","docs/0.2.x/hello-world":"docs","docs/0.3.0-0.3.3/plugins/writing":"docs","docs/0.2.x/templates/intro":"docs","docs/first-app/installation":"docs","docs/core-principles":"docs","docs/faq":"docs","docs/0.2.x/i18n/intro":"docs","docs/0.3.4/reference/snooping":"docs","docs/fundamentals/i18n":"docs","docs/0.3.4/reference/hydration":"docs","docs/0.3.4/tutorials/second-app":"docs","docs/0.4.x/first-app/installation":"docs","docs/0.3.0-0.3.3/intro":"docs","docs/state/suspense":"docs","docs/0.3.4/reference/styling":"docs","docs/0.4.x/fundamentals/testing":"docs","docs/0.4.x/fundamentals/serving-exporting":"docs","docs/0.3.4/reference/testing/manual":"docs","docs/0.1.x/error_pages":"docs","docs/state/build":"docs","docs/0.3.4/reference/i18n/translations-managers":"docs","docs/0.3.0-0.3.3/snooping":"docs","docs/0.4.x/state/manual":"docs","docs/0.2.x/advanced/arch":"docs","docs/0.3.4/reference/templates/intro":"docs","docs/0.3.0-0.3.3/server-communication":"docs","docs/next/intro":"docs","docs/0.3.4/advanced/initial-loads":"docs","docs/0.3.0-0.3.3/styling":"docs","docs/0.3.0-0.3.3/pitfalls-and-bugs":"docs","docs/0.3.4/reference/deploying/docker":"docs","docs/next/capsules/intro":"docs","docs/0.3.0-0.3.3/testing/manual":"docs","docs/0.2.x/styling":"docs","docs/0.1.x/strategies/build_paths":"docs"}`;

        import init from "https://framesurge.sh/perseus/.perseus/bundle.js";
        async function main() {
            await init("https://framesurge.sh/perseus/.perseus/bundle.wasm");
        }
        main();

        
        

window.__PERSEUS_GLOBAL_STATE = `null`;</script><meta itemprop=__perseus_head_boundary><title>`PerseusApp` | Perseus Docs</title><link rel=stylesheet href=.perseus/static/styles/markdown.css><link rel=stylesheet href=.perseus/static/styles/docs_links_markdown.css><link rel=stylesheet href=.perseus/static/prism.css><script>
window.__PERSEUS_INITIAL_STATE = `{"content":"<h1><code>PerseusApp</code></h1>\\n<p>When you're developing with Perseus, you'll need to tell it about your templates so it can prerender them and udnerstand that they...well, exist. The way you do this is through <a href=\\"https://docs.rs/perseus/0.4/perseus/prelude/struct.PerseusAppBase.html\\"><code>PerseusApp</code></a>, which is the central interface between the Perseus internals and your own code. Most of the time, you'll use this <code>struct</code> for defining your templates, capsules, and error views, but there are several other things it's capable of, which we'll go through here.</p>\\n<p>If you're looking for documentation about the Perseus entrypoint system, see <a href=\\"https://framesurge.sh/perseus/en-US/docs/next/first-app/defining\\">here</a>.</p>\\n<h2>Template/capsule definition patterns</h2>\\n<p>When you define your templates and capsules, there are two ways to do this. The first is the one you'll see most frequently with templates, which involves creating a <code>get_template()</code> function or similar that just returns the template you want, which you can then call in the <code>.template()</code> method on your <code>PerseusApp</code>. However, this doesn't apply so well to capsules, which, unlike templates, you need access to in your own code as well. In those cases, it's best to use static references, usually created with a macro like <a href=\\"https://docs.rs/lazy_static\\"><code>lazy_static!</code></a>. However, because these will be <code>&amp;'static Capsule</code>s, not <code>Capsule</code>s proper, you'll need to use the <code>.capsule_ref()</code> method for these, like so:</p>\\n<pre><code class=\\"language-rust\\">.capsule_ref(&amp;*crate::capsules::my_capsule::MY_CAPSULE)\\n</code></pre>\\n<p>The first pattern is called the <em>functional definition pattern</em>, and the second is the <em>referential definition pattern</em>. Usually, you'll use the former with templates and the latter with capsules, although some developers like to have the consistency of using one pattern everywhere: this is usually the referential definition pattern, because it offers far better ergonomics with capsules. Perseus is indifferent to which you use, and there is no penalty for either, it's entirely up to your personal preference.</p>\\n<h2>Index views</h2>\\n<p>Very often, there are a few things you want to apply throughout your app, like universal stylesheets, certain preloading directives, or certain <code>&lt;meta&gt;</code> tags to improve search engine optimization. In these cases, you'll want to take advantage of the index view system, which allows you to write the root view into which your app will be interpolated in Sycamore! Importantly though, nothing in this view can be reactive, since it will be rendered to HTML immediately and treated as a string thereafter. If you want to provide an actual HTML string, you can use <code>.index_view_str()</code> instead.</p>\\n<p>Here's an example of an app definition using an index view:</p>\\n<pre><code class=\\"language-rust\\">#{#include ../../../examples/core/index_view/src/main.rs}\\n</code></pre>\\n<p>Note the use of the <code>PerseusRoot</code> component, which is provided to denote the entrypoint for Perseus. Unfortunately, due to limitations in the internal rendering infrastructure, you have to use this component, as opposed to manually defining the <code>&lt;div id=&quot;root&quot;&gt;&lt;/div&gt;</code> that Perseus automatically interpolates into.</p>\\n<h2>Mutable stores</h2>\\n<p>If you've taken a look at the API docs for <code>PerseusApp</code>, you may have noticed that you're actually looking at <code>PerseusAppBase</code>, which is subtly different: it takes <em>three</em> generics, not just <code>G</code>, but also <code>M</code> and <code>T</code>. The <code>M</code> is for a <a href=\\"https://docs.rs/perseus/0.4/perseus/stores/trait.MutableStore.html\\"><code>MutableStore</code></a>, which is a special internal component of Perseus.</p>\\n<p>If you take a look in the <code>dist/</code> directory that Perseus produces, you'll find all sorts of interesting things, but particularly the <code>static/</code> and <code>mutable/</code> directories. In the former is a series of HTML and JSON fragments that Perseus writes to the disk at build-time to store forever, like the prerendered HTML for pages that are static. However, some pages have contents and/or state that might change in future, so Perseus writes them to the <code>mutable/static</code>directory. Pretty intuitively, the <code>static/</code> directory is <em>immutable</em>, meaning it can't be changed after build-time, and the <code>mutable/</code> directory is <em>mutable</em>, meaning it canb be. The <a href=\\"https://docs.rs/perseus/0.4/perseus/stores/struct.ImmutableStore.html\\"><code>ImmutableStore</code></a> type governs the immutable store, while the <a href=\\"https://docs.rs/perseus/0.4/perseus/stores/trait.MutableStore.html\\"><code>MutableStore</code></a> trait governs the mutable one. The distinction between the two may seem unimportant, but it's actually critical when you look into things like serverless functions, which typically have an immutable filesystem. Perseus is designed from the ground up to maximize performance with immutable assets by storing them locally, while offering an extensible system for managing mutable assets (e.g. in a serverless environment, you would have to use something like a colocated database). Hence, <code>PerseusAppBase</code> is generic over this. By default, though, <a href=\\"stores/struct.FsMutableStore@perseus\\"><code>FsMutableStore</code></a> is used, which simply uses the filesystem. In development, this is the fastest, and it's the best option for production too, if you're running in an environment that supports writing to the filesystem.</p>\\n<p>Note that exported apps don't need to care about the mutable store, since they are totally static after build-time.</p>\\n<h2>Translations management</h2>\\n<p>Similarly, that <code>T</code> allows <code>PerseusAppBase</code> to be generic over a <a href=\\"https://docs.rs/perseus/0.4/perseus/i18n/trait.TranslationsManager.html\\"><code>TranslationsManager</code></a>, which allows you to manage your translations in an arbitrary way for apps using internationalization. Usually, you'll just use the <a href=\\"https://docs.rs/perseus/0.4/perseus/i18n/struct.FsTranslationsManager.html\\"><code>FsTranslationsManager</code></a>, which is the default, expecting your translations to be in a <code>translations/</code> directory at the root of your project. However, this can of course be changed, which may be useful for larger apps that expect their translations to come from a larger database.</p>\\n<p>Note that translations managers are expected to manage their own caching, so keep this in mind when building your own, since, in an internationalized app, translations will be the second-most-requested resource after pages (since they must be served with every initial load, and every locale switch).</p>\\n<h2>The state store</h2>\\n<p>One helpful method on <code>PerseusApp</code> that may help you is the <code>.pss_max_size()</code> function, which allows you to set an arbitrary maximum number of pages that Perseus will cache. This is separate to the browser's caching system, and allows Perseus to store the absolute minimum amount of information needed to re-render a page if the user goes back to it. If you try, for instance, in these docs, going to a different page, and then coming back to this one, you'll see that the transition back is instant. The reason for this is Perseus' caching mechanism. If you're familiar with SPA routing, consider this SPA caching (which, to our knowledge, is a unique feature at the moment).</p>\\n<p>Deciding what to set this value to should be based on empirical testing of your app's performance: higher values will allow users to get a higher number of instant transitions, but at the cost of your app using more RAM, whereas lower versions will keep your app's memory profile lean, at the cost of longer wait times between old pages. The default value is <code>25</code> at the moment, which is subject to significant change (as it was effectively concocted out of a hat).</p>\\n<p>Importantly, apps with very large state (e.g. documentation sites!) may wish to set this to a lower value, lest 25 very large state objects be cached automatically. If you notice your app or browser becoming a little laggy, or your app becoming completely non-responsive, lower this value. Once the maximum number of pages has been reached, Perseus will automatically <em>evict</em> the oldest pages first to make room for new ones.</p>\\n<p>Note that capsules are cached entirely separately, and they are kept around until the last page that depends upon them is evicted. Therefore, apps whose pages use a large volume of capsules should set the PSS maximum size to a lower value. See the <a href=\\"https://docs.rs/perseus/0.4/perseus/state/struct.PageStateStore.html\\"><code>PageStateStore</code></a> API for further details on more fine-grained control of this part of Perseus.</p>\\n<p><em>Note: an experimental system will be released soon that will allow the state store to poll its own real size in RAM and intelligently delete pages until it fits in a certain size, which will make deciding on the maximum size far easier and more logical.</em></p>\\n<h2>Other methods</h2>\\n<p>You can see all the methods of <code>PerseusApp</code> <a href=\\"https://docs.rs/perseus/0.4/perseus/prelude/struct.PerseusAppBase.html\\">here</a>, along with their individual API docs.</p>\\n","current_version":"next","manifest":{"0.1.x":{"docs_rs":"0.1","git":"v0.1.4","state":"outdated"},"0.2.x":{"docs_rs":"0.2","git":"v0.2.3","state":"outdated"},"0.3.0-0.3.3":{"docs_rs":"0.3.3","git":"v0.3.3","state":"outdated"},"0.3.4":{"docs_rs":"0.3","git":"v0.3.6","state":"outdated"},"0.4.x":{"docs_rs":"0.4","git":"HEAD","state":"stable"}},"sidebar_content":"<h1>Introduction</h1>\\n<ul>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/next/intro\\">Introduction</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/next/quickstart\\">Quickstart</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/next/what-is-perseus\\">What is Perseus?</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/next/core-principles\\">Core Principles</a></li>\\n</ul>\\n<h1>Your First App</h1>\\n<ul>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/next/first-app/installation\\">Installing Perseus</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/next/first-app/defining\\">Defining your app</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/next/first-app/generating-pages\\">Generating pages</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/next/first-app/dev-cycle\\">Development cycle</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/next/first-app/error-handling\\">Error handling</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/next/first-app/deploying\\">Deploying your app</a></li>\\n</ul>\\n<h1>Fundamentals</h1>\\n<ul>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/next/fundamentals/perseus-app\\"><code>PerseusApp</code></a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/next/fundamentals/reactor\\">The reactor</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/next/fundamentals/routing\\">Routing and navigation</a>\\n<ul>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/next/fundamentals/preloading\\">Preloading</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/next/fundamentals/i18n\\">Internationalization</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/next/fundamentals/error-views\\">Error views</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/next/fundamentals/hydration\\">Hydration</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/next/fundamentals/static-content\\">Static content</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/next/fundamentals/head-headers\\">Heads and headers</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/next/fundamentals/styling\\">Styling</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/next/fundamentals/js-interop\\">Working with JS</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/next/fundamentals/serving-exporting\\">Servers and exporting</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/next/fundamentals/debugging\\">Debugging</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/next/fundamentals/testing\\">Writing tests</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/next/fundamentals/plugins\\">Plugins</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/next/fundamentals/compilation-times\\">Improving Compilation Times</a></li>\\n</ul>\\n<h1>The State Platform</h1>\\n<ul>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/next/state/intro\\">Understanding state</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/next/state/build\\">Build-time state</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/next/state/request\\">Request-time state</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/next/state/revalidation\\">Revalidation</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/next/state/incremental\\">Incremental generation</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/next/state/amalgamation\\">State amalgamation</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/next/state/browser\\">Using state</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/next/state/global\\">Global state</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/next/state/helper\\">Helper state</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/next/state/suspense\\">Suspended state</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/next/state/freezing-thawing\\">Freezing and thawing</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/next/state/manual\\">Manually implementing <code>ReactiveState</code></a></li>\\n</ul>\\n<h1>Capsules</h1>\\n<ul>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/next/capsules/intro\\">Introduction</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/next/capsules/using\\">Using capsules</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/next/capsules/capsules-vs-components\\">Capsules vs. components</a></li>\\n</ul>\\n<h1>Miscellaneous</h1>\\n<ul>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/next/migrating\\">Migrating from v0.3.x</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/next/faq\\">Common pitfalls and FAQs</a></li>\\n</ul>\\n","status":"Next","title":"\`PerseusApp\`"}`;
window.__PERSEUS_INITIAL_WIDGET_STATES = `{}`;
window.__PERSEUS_TRANSLATIONS = `{
    "perseus": "Perseus",
    "sycamore": "Sycamore",
    "navlinks.docs": "Docs",
    "navlinks.comparisons": "Comparisons",
    "navlinks.plugins": "Plugins",
    "index-intro.heading": "The Rust framework for the modern web",
    "index-intro.get-started-button": "Get started now",
    "index-intro.github-button": "GitHub",
    "index-state-gen.heading": "Generate state, on your terms",
    "index-state-gen.desc": "Perseus apps can generate state whenever they like and pass it to <a href=\\"https://github.com/sycamore-rs/sycamore\\" class=\\"underline\\">Sycamore</a>, one of the fastest web frameworks in the world.",
    "index-i18n.heading.start": "I18n",
    "index-i18n.heading.rest": " that just works",
    "index-i18n.heading.tooltip": "Internationalization",
    "index-i18n.desc": "Just add translations using <a href=\\"https://projectfluent.org\\" class=\\"underline\\">Fluent</a>, and your app can be set up in seconds in multiple languages, with automatic user locale detection.",
    "index-opts.heading": "You want options? We got options.",
    "index-opts.desc": "Perseus comes with a built-in plugins system and full customizability of almost every part of the system. Static exporting? Serverful deployment? Fetch data by carrier pigeon? Easy.",
    "index-speed.heading": "Fast. Crazy. Fast.",
    "index-speed.desc-line-1": "Underlying platform? <strong>Rust.</strong>",
    "index-speed.desc-line-2": "Target platform? <strong>WebAssembly.</strong>",
    "index-speed.desc-line-3": "Lighthouse scores? <strong>💯</strong>",
    "index-speed.desktop-perf-label": "Performance (Desktop)",
    "index-speed.mobile-perf-label": "Performance (Mobile)",
    "index-speed.best-practices-label": "Best Practices",
    "index-cta.heading": "Get started with Perseus today!",
    "index-cta.docs-button": "Docs",
    "index-cta.gh-button": "GitHub",
    "index-cta.api-docs-button": "API Docs",
    "index-cta.crates-io-button": "Crates.io",
    "index-cta.matrix-button": "Matrix",
    "index-cta.discord-button": "Discord",
    "index-cta.comparisons-button": "Comparisons",
    "footer.copyright": "© <a href=\\"https://github.com/arctic-hen7\\" class=\\"underline\\">arctic-hen7</a> { $years }, see license <a href=\\"https://github.com/framesurge/perseus/blob/main/LICENSE\\" class=\\"underline\\">here</a>.",
    "comparisons-title": "Comparisons to Other Frameworks",
    "comparisons-heading": "Comparisons",
    "comparisons-subtitle": "See how Perseus compares to other web development frameworks.",
    "comparisons-extra": "Is there anything we're missing here? Please <a href =\\"https://github.com/framesurge/perseus/issues/new/choose\\" class=\\"underline\\">open an issue</a> and let us know!",
    "comparisons-table-header": "Comparison",
    "comparisons-table-headings.name": "Name",
    "comparisons-table-headings.supports_ssg": "Static generation",
    "comparisons-table-headings.supports_ssr": "Server-side rendering",
    "comparisons-table-headings.supports_ssr_ssg_same_page": "SSG & SSR in same page",
    "comparisons-table-headings.supports_i18n": "Internationalization",
    "comparisons-table-headings.supports_incremental": "Incremental generation",
    "comparisons-table-headings.supports_revalidation": "Revalidation",
    "comparisons-table-headings.inbuilt_cli": "Inbuilt CLI",
    "comparisons-table-headings.inbuilt_routing": "Routing support",
    "comparisons-table-headings.supports_shell": "App shell",
    "comparisons-table-headings.supports_deployment": "Easy deployment",
    "comparisons-table-headings.supports_exporting": "Static exporting",
    "comparisons-table-headings.language": "Language",
    "comparisons-table-headings.homepage_lighthouse_desktop": "Homepage Lighthouse Score (Desktop)",
    "comparisons-table-headings.homepage_lighthouse_mobile": "Homepage Lighthouse Score (Mobile)",
    "comparisons-table-details.supports_ssg": "Whether or not the framework supports pre-rendering pages at build-time.",
    "comparisons-table-details.supports_ssr": "Whether or not the framework supports rendering pages dynamically when they're requested.",
    "comparisons-table-details.supports_ssr_ssg_same_page": "Whether or not the framework supports SSG and SSR (see above) in the very same page.",
    "comparisons-table-details.supports_i18n": "Whether or not the framework supports building a multilingual app. Some frameworks support this through plugins.",
    "comparisons-table-details.supports_incremental": "Whether or not the framework supports rendering pages on-demand and then caching them for future use.",
    "comparisons-table-details.supports_revalidation": "Whether or not the framework supports rebuilding pages that were built at build-time at request-time. Some frameworks can do this by time, or by custom logic. Perseus supports both.",
    "comparisons-table-details.inbuilt_cli": "Whether or not the framework has a command-line interface for convenient usage. Some frameworks use third-party CLIs.",
    "comparisons-table-details.inbuilt_routing": "Whether or not the framework supports inbuilt routing. Most frameworks have their own way of doing this if they do support it.",
    "comparisons-table-details.supports_shell": "Whether or not this framework has an app shell, which makes switching pages much faster and cleaner.",
    "comparisons-table-details.supports_deployment": "Whether or not this framework supports easy deployment. Perseus can deploy in one command.",
    "comparisons-table-details.supports_exporting": "Whether or not this framework can operate without a server, as a series of purely static files.",
    "comparisons-table-details.language": "The programming language this framework is built in. (Hint: Rust is the fastest!)",
    "comparisons-table-details.homepage_lighthouse_desktop": "The Lighthouse score out of 100 for desktop (higher is better). These are collected from Google's PageSpeed Insights tool. These are for the framework's website, and may not reflect the performance of all sites made with the framework.",
    "comparisons-table-details.homepage_lighthouse_mobile": "The Lighthouse score out of 100 for mobile (higher is better). These are collected from Google's PageSpeed Insights tool. These are for the framework's website, and may not reflect the performance of all sites made with the framework.",
    "comparisons-sycamore-heading": "Perseus vs Sycamore",
    "comparisons-sycamore-text": "Perseus is a framework that uses Sycamore to write views (the things users see), so there's not much point in comparing the two as competitors. However, Sycamore can be used without Perseus, which works perfectly well, though you'll miss out on features like inbuilt internationalization, static generation (though you could build this yourself), and incremental generation. If you want to build just a bit of your site with Rust, Sycamore is the perfect tool, Perseus is a full framework designed for building entire websites.",
    "comparisons-unknown-heading": "Perseus vs { $name }",
    "docs-title-base": "Perseus Docs",
    "docs-status.outdated": "This version of the documentation is outdated, and features documented here may work differently now. You can see the latest stable version of the docs <a href=\\"en-US/docs/{ $stable }/intro\\" class=\\"underline\\">here</a>.",
    "docs-status.beta": "This version of the documentation is for a version that has only been released in beta, and is not yet stable. Features documented here may not be present in the latest stable version, and they're subject to rapid and drastic change. You can see the latest stable version of the docs <a href=\\"en-US/docs/{ $stable }/intro\\" class=\\"underline\\">here</a>.",
    "docs-status.next": "This version of the documentation is for a version that has not yet been released, and features documented here may not be present in the latest release. You can see the latest stable version of the docs <a href=\\"en-US/docs/{ $stable }/intro\\" class=\\"underline\\">here</a>.",
    "docs-version-switcher.next": "Next (unreleased)",
    "docs-version-switcher.beta": "v{ $version } (beta)",
    "docs-version-switcher.stable": "v{ $version } (stable)",
    "docs-version-switcher.outdated": "v{ $version } (outdated)",
    "plugins-title": "Plugins",
    "plugins-title-full": "Perseus Plugins",
    "plugin-card-author": "By { $author }",
    "plugin-details.repo_link": "Repository:",
    "plugin-details.crates_link": "Crate page:",
    "plugin-details.docs_link": "Docs:",
    "plugin-details.site_link": "Site:",
    "plugin-details.metadata_heading": "Metadata",
    "plugin-details.no_link_text": "N/A",
    "plugin-search.placeholder": "Search",
    "plugin-search.no_results": "No results found.",
    "plugins-desc": "These are all the public plugins for Perseus! If you've made a plugin, and you'd like it to be listed here, please open an issue on our repository!",
    "search": "Search the docs",
    "index-example-switcher.excerpts": "Excerpts",
    "index-example-switcher.full": "Full"
}
`;</script><meta itemprop=__perseus_head_end><script>//</script><body class="bg-white dark:bg-neutral-900"><div id=root><header data-hk=8.0 class="shadow-md sm:p-2 w-full mb-20 bg-neutral-500/30 backdrop-blur-lg text-black dark:text-white"><div data-hk=8.1 class="flex justify-between items-center"><a data-hk=8.2 class="justify-self-start self-center m-3 ml-5 text-md sm:text-2xl text-bold title-font"href=en-US/>Perseus</a><div data-hk=8.3 class="md:hidden m-3 mr-5 tham tham-e-spin tham-w-6"><div data-hk=8.4 class=tham-box><div data-hk=8.5 class="tham-inner bg-black dark:bg-white"></div></div></div><nav data-hk=8.6 class="hidden md:flex"><ul data-hk=8.7 class="mr-5 flex"><li data-hk=9.0 class="m-3 p-1 title-font"><a data-hk=9.1 href=en-US/docs class=px-2>Docs</a><li data-hk=9.2 class="m-3 p-1 title-font"><a data-hk=9.3 href=en-US/comparisons class=px-2>Comparisons</a><li data-hk=9.4 class="m-3 p-1 title-font"><a data-hk=9.5 href=en-US/plugins class=px-2>Plugins</a></ul></nav></div><nav data-hk=8.8 id=mobile_nav_menu class="md:hidden w-full text-center justify-center hidden"><ul data-hk=8.9 class=mr-5><li data-hk=10.0 class="m-3 p-1 title-font"><a data-hk=10.1 href=en-US/docs class=px-2>Docs</a><li data-hk=10.2 class="m-3 p-1 title-font"><a data-hk=10.3 href=en-US/comparisons class=px-2>Comparisons</a><li data-hk=10.4 class="m-3 p-1 title-font"><a data-hk=10.5 href=en-US/plugins class=px-2>Plugins</a></ul><hr data-hk=2.0><div data-hk=2.1 class="text-left p-3 overflow-y-scroll h-[60vh]"><div data-hk=2.2 class="flex w-full justify-center text-center"><div data-hk=2.3 class="max-w-3xl flex flex-col"><select data-hk=4.4 class="p-2 rounded-md text-white bg-indigo-500"><option data-hk=4.5 value=next selected>Next (unreleased)<option data-hk=4.6 value=0.4.x>v0.4.x (stable)<option data-hk=4.0 value=0.3.4>v0.3.4 (outdated)<option data-hk=4.1 value=0.3.0-0.3.3>v0.3.0-0.3.3 (outdated)<option data-hk=4.2 value=0.2.x>v0.2.x (outdated)<option data-hk=4.3 value=0.1.x>v0.1.x (outdated)</select></div></div><div data-hk=2.4 class=docs-links-markdown><h1>Introduction</h1><ul><li><a href=https://framesurge.sh/perseus/en-US/docs/next/intro>Introduction</a><li><a href=https://framesurge.sh/perseus/en-US/docs/next/quickstart>Quickstart</a><li><a href=https://framesurge.sh/perseus/en-US/docs/next/what-is-perseus>What is Perseus?</a><li><a href=https://framesurge.sh/perseus/en-US/docs/next/core-principles>Core Principles</a></ul><h1>Your First App</h1><ul><li><a href=https://framesurge.sh/perseus/en-US/docs/next/first-app/installation>Installing Perseus</a><li><a href=https://framesurge.sh/perseus/en-US/docs/next/first-app/defining>Defining your app</a><li><a href=https://framesurge.sh/perseus/en-US/docs/next/first-app/generating-pages>Generating pages</a><li><a href=https://framesurge.sh/perseus/en-US/docs/next/first-app/dev-cycle>Development cycle</a><li><a href=https://framesurge.sh/perseus/en-US/docs/next/first-app/error-handling>Error handling</a><li><a href=https://framesurge.sh/perseus/en-US/docs/next/first-app/deploying>Deploying your app</a></ul><h1>Fundamentals</h1><ul><li><a href=https://framesurge.sh/perseus/en-US/docs/next/fundamentals/perseus-app><code>PerseusApp</code></a><li><a href=https://framesurge.sh/perseus/en-US/docs/next/fundamentals/reactor>The reactor</a><li><a href=https://framesurge.sh/perseus/en-US/docs/next/fundamentals/routing>Routing and navigation</a> <ul><li><a href=https://framesurge.sh/perseus/en-US/docs/next/fundamentals/preloading>Preloading</a></ul><li><a href=https://framesurge.sh/perseus/en-US/docs/next/fundamentals/i18n>Internationalization</a><li><a href=https://framesurge.sh/perseus/en-US/docs/next/fundamentals/error-views>Error views</a><li><a href=https://framesurge.sh/perseus/en-US/docs/next/fundamentals/hydration>Hydration</a><li><a href=https://framesurge.sh/perseus/en-US/docs/next/fundamentals/static-content>Static content</a><li><a href=https://framesurge.sh/perseus/en-US/docs/next/fundamentals/head-headers>Heads and headers</a><li><a href=https://framesurge.sh/perseus/en-US/docs/next/fundamentals/styling>Styling</a><li><a href=https://framesurge.sh/perseus/en-US/docs/next/fundamentals/js-interop>Working with JS</a><li><a href=https://framesurge.sh/perseus/en-US/docs/next/fundamentals/serving-exporting>Servers and exporting</a><li><a href=https://framesurge.sh/perseus/en-US/docs/next/fundamentals/debugging>Debugging</a><li><a href=https://framesurge.sh/perseus/en-US/docs/next/fundamentals/testing>Writing tests</a><li><a href=https://framesurge.sh/perseus/en-US/docs/next/fundamentals/plugins>Plugins</a><li><a href=https://framesurge.sh/perseus/en-US/docs/next/fundamentals/compilation-times>Improving Compilation Times</a></ul><h1>The State Platform</h1><ul><li><a href=https://framesurge.sh/perseus/en-US/docs/next/state/intro>Understanding state</a><li><a href=https://framesurge.sh/perseus/en-US/docs/next/state/build>Build-time state</a><li><a href=https://framesurge.sh/perseus/en-US/docs/next/state/request>Request-time state</a><li><a href=https://framesurge.sh/perseus/en-US/docs/next/state/revalidation>Revalidation</a><li><a href=https://framesurge.sh/perseus/en-US/docs/next/state/incremental>Incremental generation</a><li><a href=https://framesurge.sh/perseus/en-US/docs/next/state/amalgamation>State amalgamation</a><li><a href=https://framesurge.sh/perseus/en-US/docs/next/state/browser>Using state</a><li><a href=https://framesurge.sh/perseus/en-US/docs/next/state/global>Global state</a><li><a href=https://framesurge.sh/perseus/en-US/docs/next/state/helper>Helper state</a><li><a href=https://framesurge.sh/perseus/en-US/docs/next/state/suspense>Suspended state</a><li><a href=https://framesurge.sh/perseus/en-US/docs/next/state/freezing-thawing>Freezing and thawing</a><li><a href=https://framesurge.sh/perseus/en-US/docs/next/state/manual>Manually implementing <code>ReactiveState</code></a></ul><h1>Capsules</h1><ul><li><a href=https://framesurge.sh/perseus/en-US/docs/next/capsules/intro>Introduction</a><li><a href=https://framesurge.sh/perseus/en-US/docs/next/capsules/using>Using capsules</a><li><a href=https://framesurge.sh/perseus/en-US/docs/next/capsules/capsules-vs-components>Capsules vs. components</a></ul><h1>Miscellaneous</h1><ul><li><a href=https://framesurge.sh/perseus/en-US/docs/next/migrating>Migrating from v0.3.x</a><li><a href=https://framesurge.sh/perseus/en-US/docs/next/faq>Common pitfalls and FAQs</a></ul></div></div></nav></header><main data-hk=2.20 id=scroll-container><div data-hk=2.5 class="flex w-full"><div data-hk=2.6 class="h-screen pt-14 xs:pt-16 sm:pt-20 lg:pt-25 hidden md:block max-w-xs w-full border-r overflow-y-auto"><div data-hk=2.7 class=mr-5><div data-hk=2.8 class="text-left text-black dark:text-white p-3"><aside data-hk=2.9><div data-hk=2.10 class="flex flex-col"><select data-hk=6.4 class="p-2 rounded-md text-white bg-indigo-500"><option data-hk=6.5 value=next selected>Next (unreleased)<option data-hk=6.6 value=0.4.x>v0.4.x (stable)<option data-hk=6.0 value=0.3.4>v0.3.4 (outdated)<option data-hk=6.1 value=0.3.0-0.3.3>v0.3.0-0.3.3 (outdated)<option data-hk=6.2 value=0.2.x>v0.2.x (outdated)<option data-hk=6.3 value=0.1.x>v0.1.x (outdated)</select></div><div data-hk=2.11 class=docs-links-markdown><h1>Introduction</h1><ul><li><a href=https://framesurge.sh/perseus/en-US/docs/next/intro>Introduction</a><li><a href=https://framesurge.sh/perseus/en-US/docs/next/quickstart>Quickstart</a><li><a href=https://framesurge.sh/perseus/en-US/docs/next/what-is-perseus>What is Perseus?</a><li><a href=https://framesurge.sh/perseus/en-US/docs/next/core-principles>Core Principles</a></ul><h1>Your First App</h1><ul><li><a href=https://framesurge.sh/perseus/en-US/docs/next/first-app/installation>Installing Perseus</a><li><a href=https://framesurge.sh/perseus/en-US/docs/next/first-app/defining>Defining your app</a><li><a href=https://framesurge.sh/perseus/en-US/docs/next/first-app/generating-pages>Generating pages</a><li><a href=https://framesurge.sh/perseus/en-US/docs/next/first-app/dev-cycle>Development cycle</a><li><a href=https://framesurge.sh/perseus/en-US/docs/next/first-app/error-handling>Error handling</a><li><a href=https://framesurge.sh/perseus/en-US/docs/next/first-app/deploying>Deploying your app</a></ul><h1>Fundamentals</h1><ul><li><a href=https://framesurge.sh/perseus/en-US/docs/next/fundamentals/perseus-app><code>PerseusApp</code></a><li><a href=https://framesurge.sh/perseus/en-US/docs/next/fundamentals/reactor>The reactor</a><li><a href=https://framesurge.sh/perseus/en-US/docs/next/fundamentals/routing>Routing and navigation</a> <ul><li><a href=https://framesurge.sh/perseus/en-US/docs/next/fundamentals/preloading>Preloading</a></ul><li><a href=https://framesurge.sh/perseus/en-US/docs/next/fundamentals/i18n>Internationalization</a><li><a href=https://framesurge.sh/perseus/en-US/docs/next/fundamentals/error-views>Error views</a><li><a href=https://framesurge.sh/perseus/en-US/docs/next/fundamentals/hydration>Hydration</a><li><a href=https://framesurge.sh/perseus/en-US/docs/next/fundamentals/static-content>Static content</a><li><a href=https://framesurge.sh/perseus/en-US/docs/next/fundamentals/head-headers>Heads and headers</a><li><a href=https://framesurge.sh/perseus/en-US/docs/next/fundamentals/styling>Styling</a><li><a href=https://framesurge.sh/perseus/en-US/docs/next/fundamentals/js-interop>Working with JS</a><li><a href=https://framesurge.sh/perseus/en-US/docs/next/fundamentals/serving-exporting>Servers and exporting</a><li><a href=https://framesurge.sh/perseus/en-US/docs/next/fundamentals/debugging>Debugging</a><li><a href=https://framesurge.sh/perseus/en-US/docs/next/fundamentals/testing>Writing tests</a><li><a href=https://framesurge.sh/perseus/en-US/docs/next/fundamentals/plugins>Plugins</a><li><a href=https://framesurge.sh/perseus/en-US/docs/next/fundamentals/compilation-times>Improving Compilation Times</a></ul><h1>The State Platform</h1><ul><li><a href=https://framesurge.sh/perseus/en-US/docs/next/state/intro>Understanding state</a><li><a href=https://framesurge.sh/perseus/en-US/docs/next/state/build>Build-time state</a><li><a href=https://framesurge.sh/perseus/en-US/docs/next/state/request>Request-time state</a><li><a href=https://framesurge.sh/perseus/en-US/docs/next/state/revalidation>Revalidation</a><li><a href=https://framesurge.sh/perseus/en-US/docs/next/state/incremental>Incremental generation</a><li><a href=https://framesurge.sh/perseus/en-US/docs/next/state/amalgamation>State amalgamation</a><li><a href=https://framesurge.sh/perseus/en-US/docs/next/state/browser>Using state</a><li><a href=https://framesurge.sh/perseus/en-US/docs/next/state/global>Global state</a><li><a href=https://framesurge.sh/perseus/en-US/docs/next/state/helper>Helper state</a><li><a href=https://framesurge.sh/perseus/en-US/docs/next/state/suspense>Suspended state</a><li><a href=https://framesurge.sh/perseus/en-US/docs/next/state/freezing-thawing>Freezing and thawing</a><li><a href=https://framesurge.sh/perseus/en-US/docs/next/state/manual>Manually implementing <code>ReactiveState</code></a></ul><h1>Capsules</h1><ul><li><a href=https://framesurge.sh/perseus/en-US/docs/next/capsules/intro>Introduction</a><li><a href=https://framesurge.sh/perseus/en-US/docs/next/capsules/using>Using capsules</a><li><a href=https://framesurge.sh/perseus/en-US/docs/next/capsules/capsules-vs-components>Capsules vs. components</a></ul><h1>Miscellaneous</h1><ul><li><a href=https://framesurge.sh/perseus/en-US/docs/next/migrating>Migrating from v0.3.x</a><li><a href=https://framesurge.sh/perseus/en-US/docs/next/faq>Common pitfalls and FAQs</a></ul></div></aside></div></div></div><div data-hk=2.12 class="h-screen pt-14 xs:pt-16 sm:pt-20 lg:pt-25 grid grid-rows-[1fr_min-content] w-full overflow-y-auto"><div data-hk=2.13 class="px-3 w-full sm:mr-auto sm:ml-auto sm:max-w-prose lg:max-w-3xl xl:max-w-4xl 2xl:max-w-5xl min-w-0"><div data-hk=2.14 class="ring-4 ring-orange-400 p-4 rounded-lg mt-1"><div data-hk=2.15 class="flex flex-col 2xs:flex-row dark:text-white"><span data-hk=2.16 class="self-center mr-2"style="fill: #fb923c;"><svg xmlns=http://www.w3.org/2000/svg height=auto viewbox="0 0 24 24"width=2.25rem fill=\#000000><path d="M12 7c.55 0 1 .45 1 1v4c0 .55-.45 1-1 1s-1-.45-1-1V8c0-.55.45-1 1-1zm-.01-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm1-3h-2v-2h2v2z"/></svg></span><p data-hk=2.17>This version of the documentation is for a version that has not yet been released, and features documented here may not be present in the latest release. You can see the latest stable version of the docs <a href=en-US/docs/0.4.x/intro class=underline>here</a>.</div></div><main data-hk=2.18 class="text-black dark:text-white"><div data-hk=1.0 class="markdown min-w-0 pb-10"><h1><code>PerseusApp</code></h1><p>When you're developing with Perseus, you'll need to tell it about your templates so it can prerender them and udnerstand that they...well, exist. The way you do this is through <a href=https://docs.rs/perseus/0.4/perseus/prelude/struct.PerseusAppBase.html><code>PerseusApp</code></a>, which is the central interface between the Perseus internals and your own code. Most of the time, you'll use this <code>struct</code> for defining your templates, capsules, and error views, but there are several other things it's capable of, which we'll go through here.<p>If you're looking for documentation about the Perseus entrypoint system, see <a href=https://framesurge.sh/perseus/en-US/docs/next/first-app/defining>here</a>.<h2>Template/capsule definition patterns</h2><p>When you define your templates and capsules, there are two ways to do this. The first is the one you'll see most frequently with templates, which involves creating a <code>get_template()</code> function or similar that just returns the template you want, which you can then call in the <code>.template()</code> method on your <code>PerseusApp</code>. However, this doesn't apply so well to capsules, which, unlike templates, you need access to in your own code as well. In those cases, it's best to use static references, usually created with a macro like <a href=https://docs.rs/lazy_static><code>lazy_static!</code></a>. However, because these will be <code>&'static Capsule</code>s, not <code>Capsule</code>s proper, you'll need to use the <code>.capsule_ref()</code> method for these, like so:<pre><code class=language-rust>.capsule_ref(&*crate::capsules::my_capsule::MY_CAPSULE)
</code></pre><p>The first pattern is called the <em>functional definition pattern</em>, and the second is the <em>referential definition pattern</em>. Usually, you'll use the former with templates and the latter with capsules, although some developers like to have the consistency of using one pattern everywhere: this is usually the referential definition pattern, because it offers far better ergonomics with capsules. Perseus is indifferent to which you use, and there is no penalty for either, it's entirely up to your personal preference.<h2>Index views</h2><p>Very often, there are a few things you want to apply throughout your app, like universal stylesheets, certain preloading directives, or certain <code>&LTmeta></code> tags to improve search engine optimization. In these cases, you'll want to take advantage of the index view system, which allows you to write the root view into which your app will be interpolated in Sycamore! Importantly though, nothing in this view can be reactive, since it will be rendered to HTML immediately and treated as a string thereafter. If you want to provide an actual HTML string, you can use <code>.index_view_str()</code> instead.<p>Here's an example of an app definition using an index view:<pre><code class=language-rust>#{#include ../../../examples/core/index_view/src/main.rs}
</code></pre><p>Note the use of the <code>PerseusRoot</code> component, which is provided to denote the entrypoint for Perseus. Unfortunately, due to limitations in the internal rendering infrastructure, you have to use this component, as opposed to manually defining the <code>&LTdiv id="root">&LT/div></code> that Perseus automatically interpolates into.<h2>Mutable stores</h2><p>If you've taken a look at the API docs for <code>PerseusApp</code>, you may have noticed that you're actually looking at <code>PerseusAppBase</code>, which is subtly different: it takes <em>three</em> generics, not just <code>G</code>, but also <code>M</code> and <code>T</code>. The <code>M</code> is for a <a href=https://docs.rs/perseus/0.4/perseus/stores/trait.MutableStore.html><code>MutableStore</code></a>, which is a special internal component of Perseus.<p>If you take a look in the <code>dist/</code> directory that Perseus produces, you'll find all sorts of interesting things, but particularly the <code>static/</code> and <code>mutable/</code> directories. In the former is a series of HTML and JSON fragments that Perseus writes to the disk at build-time to store forever, like the prerendered HTML for pages that are static. However, some pages have contents and/or state that might change in future, so Perseus writes them to the <code>mutable/static</code>directory. Pretty intuitively, the <code>static/</code> directory is <em>immutable</em>, meaning it can't be changed after build-time, and the <code>mutable/</code> directory is <em>mutable</em>, meaning it canb be. The <a href=https://docs.rs/perseus/0.4/perseus/stores/struct.ImmutableStore.html><code>ImmutableStore</code></a> type governs the immutable store, while the <a href=https://docs.rs/perseus/0.4/perseus/stores/trait.MutableStore.html><code>MutableStore</code></a> trait governs the mutable one. The distinction between the two may seem unimportant, but it's actually critical when you look into things like serverless functions, which typically have an immutable filesystem. Perseus is designed from the ground up to maximize performance with immutable assets by storing them locally, while offering an extensible system for managing mutable assets (e.g. in a serverless environment, you would have to use something like a colocated database). Hence, <code>PerseusAppBase</code> is generic over this. By default, though, <a href=stores/struct.FsMutableStore@perseus><code>FsMutableStore</code></a> is used, which simply uses the filesystem. In development, this is the fastest, and it's the best option for production too, if you're running in an environment that supports writing to the filesystem.<p>Note that exported apps don't need to care about the mutable store, since they are totally static after build-time.<h2>Translations management</h2><p>Similarly, that <code>T</code> allows <code>PerseusAppBase</code> to be generic over a <a href=https://docs.rs/perseus/0.4/perseus/i18n/trait.TranslationsManager.html><code>TranslationsManager</code></a>, which allows you to manage your translations in an arbitrary way for apps using internationalization. Usually, you'll just use the <a href=https://docs.rs/perseus/0.4/perseus/i18n/struct.FsTranslationsManager.html><code>FsTranslationsManager</code></a>, which is the default, expecting your translations to be in a <code>translations/</code> directory at the root of your project. However, this can of course be changed, which may be useful for larger apps that expect their translations to come from a larger database.<p>Note that translations managers are expected to manage their own caching, so keep this in mind when building your own, since, in an internationalized app, translations will be the second-most-requested resource after pages (since they must be served with every initial load, and every locale switch).<h2>The state store</h2><p>One helpful method on <code>PerseusApp</code> that may help you is the <code>.pss_max_size()</code> function, which allows you to set an arbitrary maximum number of pages that Perseus will cache. This is separate to the browser's caching system, and allows Perseus to store the absolute minimum amount of information needed to re-render a page if the user goes back to it. If you try, for instance, in these docs, going to a different page, and then coming back to this one, you'll see that the transition back is instant. The reason for this is Perseus' caching mechanism. If you're familiar with SPA routing, consider this SPA caching (which, to our knowledge, is a unique feature at the moment).<p>Deciding what to set this value to should be based on empirical testing of your app's performance: higher values will allow users to get a higher number of instant transitions, but at the cost of your app using more RAM, whereas lower versions will keep your app's memory profile lean, at the cost of longer wait times between old pages. The default value is <code>25</code> at the moment, which is subject to significant change (as it was effectively concocted out of a hat).<p>Importantly, apps with very large state (e.g. documentation sites!) may wish to set this to a lower value, lest 25 very large state objects be cached automatically. If you notice your app or browser becoming a little laggy, or your app becoming completely non-responsive, lower this value. Once the maximum number of pages has been reached, Perseus will automatically <em>evict</em> the oldest pages first to make room for new ones.<p>Note that capsules are cached entirely separately, and they are kept around until the last page that depends upon them is evicted. Therefore, apps whose pages use a large volume of capsules should set the PSS maximum size to a lower value. See the <a href=https://docs.rs/perseus/0.4/perseus/state/struct.PageStateStore.html><code>PageStateStore</code></a> API for further details on more fine-grained control of this part of Perseus.<p><em>Note: an experimental system will be released soon that will allow the state store to poll its own real size in RAM and intelligently delete pages until it fits in a certain size, which will make deciding on the maximum size far easier and more logical.</em><h2>Other methods</h2><p>You can see all the methods of <code>PerseusApp</code> <a href=https://docs.rs/perseus/0.4/perseus/prelude/struct.PerseusAppBase.html>here</a>, along with their individual API docs.</div></main></div><div data-hk=2.19 class=row-start-2><footer data-hk=7.0 class="w-full flex justify-center py-5 bg-black text-white"><p data-hk=7.1 class="mx-5 text-center"><span data-hk=7.2>© <a href=https://github.com/arctic-hen7 class=underline>arctic-hen7</a> 2021-2023, see license <a href=https://github.com/framesurge/perseus/blob/main/LICENSE class=underline>here</a>.</span></footer></div></div></div></main><script data-hk=0.0 src=.perseus/static/prism.js defer></script><script data-hk=0.1>window.Prism.highlightAll();</script></div><div id=__perseus_popup_error></div>