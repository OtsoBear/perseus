<!DOCTYPE html><html lang=en-US class=light><head><base href=https://framesurge.sh/perseus/><meta charset=UTF-8><meta name=viewport content="width=device-width, initial-scale=1.0"><link rel=stylesheet href=.perseus/static/tailwind.css><link rel=stylesheet href=.perseus/static/styles/style.css><script type=module>window.__PERSEUS_RENDER_CFG = `{"docs/0.3.0-0.3.3/testing/checkpoints":"docs","docs/0.3.0-0.3.3/plugins/tinker":"docs","docs/0.2.x/what-is-perseus":"docs","docs/0.3.4/reference/strategies/incremental":"docs","docs/0.3.0-0.3.3/second-app":"docs","docs/0.4.x/core-principles":"docs","docs/next/fundamentals/static-content":"docs","docs/fundamentals/serving-exporting":"docs","docs/0.3.4/reference/stores":"docs","docs/next/capsules/using":"docs","docs/0.1.x/templates":"docs","docs/0.4.x/first-app/dev-cycle":"docs","docs/0.3.4/reference/templates/router-state":"docs","docs/0.3.0-0.3.3/strategies/request-state":"docs","docs/first-app/deploying":"docs","docs/next/state/browser":"docs","docs/0.2.x/static-content":"docs","docs/0.3.0-0.3.3/advanced/routing":"docs","docs/0.3.4/reference/plugins/publishing":"docs","docs/0.3.0-0.3.3/stores":"docs","docs/0.3.4/reference/deploying/size":"docs","docs/0.3.4/reference/plugins/writing":"docs","docs/next/fundamentals/i18n":"docs","docs/0.2.x/testing/intro":"docs","docs/0.4.x/fundamentals/error-views":"docs","docs/0.3.0-0.3.3/strategies/build-state":"docs","docs/0.2.x/strategies/build-state":"docs","docs/0.3.0-0.3.3/deploying/size":"docs","docs/0.1.x/cli":"docs","docs/0.4.x/capsules/intro":"docs","docs/capsules/capsules-vs-components":"docs","docs/0.3.0-0.3.3/templates/metadata-modification":"docs","docs/next/state/freezing-thawing":"docs","docs/0.3.0-0.3.3/testing/fantoccini-basics":"docs","docs/0.3.4/reference/index-view":"docs","docs/fundamentals/compilation-times":"docs","docs/state/manual":"docs","docs/0.2.x/i18n/translations-managers":"docs","docs/state/browser":"docs","docs/0.3.0-0.3.3/templates/intro":"docs","docs/0.3.4/reference/static-content":"docs","docs/fundamentals/perseus-app":"docs","docs/next/fundamentals/plugins":"docs","docs/next/fundamentals/js-interop":"docs","docs/0.3.4/reference/state/global":"docs","docs/fundamentals/testing":"docs","docs/0.3.0-0.3.3/strategies/incremental":"docs","docs/0.4.x/fundamentals/styling":"docs","docs/0.3.0-0.3.3/ejecting":"docs","docs/0.4.x/fundamentals/perseus-app":"docs","docs/0.3.4/reference/testing/fantoccini-basics":"docs","docs/next/migrating":"docs","docs/0.4.x/first-app/generating-pages":"docs","docs/fundamentals/preloading":"docs","docs/0.2.x/templates/metadata-modification":"docs","docs/0.3.0-0.3.3/deploying/intro":"docs","docs/0.3.4/reference/deploying/relative-paths":"docs","comparisons":"comparisons","docs/next/first-app/installation":"docs","docs/state/freezing-thawing":"docs","docs/0.3.0-0.3.3/debugging":"docs","docs/0.1.x/strategies/request_state":"docs","docs/0.4.x/fundamentals/debugging":"docs","docs/0.3.4/reference/cli":"docs","docs/0.3.4/intro":"docs","docs/next/fundamentals/debugging":"docs","docs/0.3.4/advanced/route-announcer":"docs","docs/next/state/intro":"docs","docs/0.3.4/reference/state/idb-freezing":"docs","plugins":"plugins","docs/next/state/revalidation":"docs","docs/0.3.4/advanced/subsequent-loads":"docs","docs/state/global":"docs","docs/0.1.x/tutorials/first_app/setup":"docs","docs/0.3.4/reference/state/rx":"docs","docs/0.2.x/second-app":"docs","docs/next/state/global":"docs","docs/0.4.x/state/browser":"docs","docs/0.3.0-0.3.3/define-app":"docs","docs/0.3.4/reference/plugins/intro":"docs","docs/0.3.0-0.3.3/deploying/relative-paths":"docs","docs/0.3.0-0.3.3/strategies/revalidation":"docs","docs/capsules/using":"docs","docs/0.3.4/reference/define-app":"docs","docs/0.3.0-0.3.3/i18n/translations-managers":"docs","docs/next/fundamentals/testing":"docs","docs/0.2.x/advanced/initial-loads":"docs","docs/next/fundamentals/preloading":"docs","docs/0.4.x/faq":"docs","docs/next/fundamentals/routing":"docs","docs/next/first-app/defining":"docs","docs/0.3.4/reference/templates/metadata-modification":"docs","docs/0.1.x/config_managers":"docs","docs/intro":"docs","docs/next/fundamentals/serving-exporting":"docs","docs/0.4.x/first-app/error-handling":"docs","docs/0.3.4/reference/exporting":"docs","docs/0.3.4/reference/strategies/request-state":"docs","docs/0.3.0-0.3.3/hello-world":"docs","docs/0.3.0-0.3.3/advanced/subsequent-loads":"docs","docs/next/fundamentals/compilation-times":"docs","docs/0.3.4/reference/pitfalls-and-bugs":"docs","docs/fundamentals/hydration":"docs","docs/next/what-is-perseus":"docs","docs/0.4.x/first-app/deploying":"docs","docs/fundamentals/plugins":"docs","docs/0.3.4/reference/testing/intro":"docs","docs/0.2.x/deploying/intro":"docs","docs/0.4.x/state/freezing-thawing":"docs","docs/0.3.0-0.3.3/plugins/publishing":"docs","docs/0.3.0-0.3.3/advanced/define_app":"docs","docs/0.1.x/arch":"docs","docs/0.3.0-0.3.3/hydration":"docs","docs/0.3.4/reference/updating":"docs","docs/0.3.4/reference/templates/setting-headers":"docs","docs/next/state/incremental":"docs","docs/0.4.x/capsules/using":"docs","docs/0.3.4/reference/server-communication":"docs","docs/next/fundamentals/head-headers":"docs","docs/0.2.x/i18n/other-engines":"docs","docs/state/intro":"docs","docs/0.1.x/strategies/intro":"docs","docs/0.3.0-0.3.3/plugins/security":"docs","docs/fundamentals/debugging":"docs","docs/0.3.4/advanced/routing":"docs","docs/0.3.0-0.3.3/i18n/defining":"docs","docs/next/state/helper":"docs","docs/fundamentals/static-content":"docs","docs/0.1.x/routing":"docs","docs/0.4.x/state/revalidation":"docs","docs/0.2.x/strategies/build-paths":"docs","docs/next/fundamentals/styling":"docs","":"","docs/0.3.4/reference/strategies/build-state":"docs","docs/0.2.x/testing/checkpoints":"docs","docs/0.3.0-0.3.3/strategies/build-paths":"docs","docs/next/state/build":"docs","docs/0.3.0-0.3.3/testing/intro":"docs","docs/0.2.x/strategies/revalidation":"docs","docs/next/state/manual":"docs","docs/0.3.4/reference/plugins/tinker":"docs","docs/0.4.x/state/amalgamation":"docs","docs/next/first-app/error-handling":"docs","docs/fundamentals/js-interop":"docs","docs/state/incremental":"docs","docs/0.4.x/fundamentals/static-content":"docs","docs/next/fundamentals/reactor":"docs","docs/0.3.4/advanced/arch":"docs","docs/0.3.4/reference/plugins/security":"docs","docs/fundamentals/styling":"docs","docs/0.4.x/fundamentals/reactor":"docs","docs/0.4.x/fundamentals/routing":"docs","docs/0.1.x/strategies/build_state":"docs","docs/0.4.x/state/global":"docs","docs/0.1.x/tutorials/first_app/intro":"docs","docs/fundamentals/error-views":"docs","docs/0.3.0-0.3.3/exporting":"docs","docs/0.3.0-0.3.3/strategies/amalgamation":"docs","docs/0.3.4/reference/strategies/build-paths":"docs","docs/0.4.x/fundamentals/preloading":"docs","docs/0.2.x/intro":"docs","docs/0.3.4/reference/testing/checkpoints":"docs","docs/next/state/request":"docs","docs/fundamentals/reactor":"docs","docs/0.2.x/advanced/subsequent-loads":"docs","docs/0.2.x/strategies/amalgamation":"docs","docs/state/amalgamation":"docs","docs/0.2.x/i18n/defining":"docs","docs/0.4.x/fundamentals/i18n":"docs","docs/quickstart":"docs","docs/0.3.0-0.3.3/static-content":"docs","docs/0.3.0-0.3.3/what-is-perseus":"docs","docs/first-app/defining":"docs","docs/state/helper":"docs","docs/0.3.4/reference/debugging":"docs","docs/0.4.x/quickstart":"docs","docs/0.1.x/strategies/revalidation":"docs","docs/0.2.x/advanced/routing":"docs","docs/0.3.0-0.3.3/updating":"docs","docs/0.3.0-0.3.3/views":"docs","docs/next/state/suspense":"docs","docs/0.1.x/intro":"docs","docs/0.2.x/testing/fantoccini-basics":"docs","docs/0.4.x/state/incremental":"docs","docs/0.3.0-0.3.3/plugins/control":"docs","docs/what-is-perseus":"docs","docs/0.3.4/core-principles":"docs","docs/capsules/intro":"docs","docs/0.3.4/reference/live-reloading":"docs","docs/0.2.x/templates/setting-headers":"docs","docs/0.3.4/reference/deploying/serverless":"docs","docs/0.3.0-0.3.3/advanced/arch":"docs","docs/0.4.x/capsules/capsules-vs-components":"docs","docs/0.2.x/deploying/exporting":"docs","docs/0.3.0-0.3.3/templates/setting-headers":"docs","docs/next/capsules/capsules-vs-components":"docs","docs/0.2.x/debugging":"docs","docs/0.4.x/state/suspense":"docs","docs/0.3.4/what-is-perseus":"docs","docs/0.1.x/strategies/incremental":"docs","docs/0.4.x/fundamentals/js-interop":"docs","docs/0.3.4/tutorials/auth":"docs","docs/0.2.x/ejecting":"docs","docs/0.4.x/fundamentals/plugins":"docs","docs/next/faq":"docs","docs/0.4.x/state/helper":"docs","docs/0.2.x/views":"docs","docs/0.2.x/testing/manual":"docs","docs/0.3.0-0.3.3/plugins/functional":"docs","docs/0.3.0-0.3.3/i18n/intro":"docs","docs/0.4.x/state/build":"docs","docs/0.4.x/fundamentals/compilation-times":"docs","docs/next/first-app/generating-pages":"docs","docs/0.4.x/state/intro":"docs","docs/0.2.x/error-pages":"docs","docs/0.3.4/reference/plugins/functional":"docs","docs/0.3.4/reference/i18n/defining":"docs","docs":"docs","docs/0.3.4/reference/error-pages":"docs","docs/0.3.4/reference/plugins/using":"docs","docs/0.3.0-0.3.3/error-pages":"docs","docs/0.3.4/reference/strategies/revalidation":"docs","docs/0.3.4/reference/i18n/intro":"docs","docs/0.3.4/reference/state/freezing":"docs","docs/0.2.x/strategies/incremental":"docs","docs/0.2.x/strategies/request-state":"docs","docs/0.3.0-0.3.3/plugins/intro":"docs","docs/0.1.x/integrations/actix-web":"docs","docs/0.4.x/intro":"docs","docs/0.4.x/state/request":"docs","docs/0.3.4/reference/deploying/intro":"docs","docs/next/fundamentals/error-views":"docs","docs/0.3.0-0.3.3/cli":"docs","docs/0.1.x/building":"docs","docs/0.3.0-0.3.3/advanced/intro":"docs","docs/first-app/error-handling":"docs","docs/state/request":"docs","docs/0.3.4/reference/i18n/other-engines":"docs","docs/0.2.x/updating":"docs","docs/0.3.4/reference/state/hsr":"docs","docs/0.3.4/reference/deploying/serverful":"docs","docs/fundamentals/routing":"docs","docs/state/revalidation":"docs","docs/0.3.0-0.3.3/advanced/initial-loads":"docs","docs/0.3.0-0.3.3/i18n/other-engines":"docs","docs/0.2.x/define-app":"docs","docs/0.4.x/first-app/defining":"docs","docs/0.3.4/reference/ejecting":"docs","docs/0.3.4/reference/perseus-app":"docs","docs/migrating":"docs","docs/0.3.4/reference/engines":"docs","docs/0.3.4/reference/i18n/using":"docs","docs/0.3.4/tutorials/hello-world":"docs","docs/0.3.4/advanced/intro":"docs","docs/0.2.x/strategies/intro":"docs","docs/next/fundamentals/perseus-app":"docs","docs/0.3.0-0.3.3/deploying/docker":"docs","docs/0.3.4/reference/plugins/control":"docs","docs/0.3.0-0.3.3/strategies/intro":"docs","docs/next/core-principles":"docs","docs/next/fundamentals/hydration":"docs","docs/next/first-app/dev-cycle":"docs","docs/next/first-app/deploying":"docs","docs/0.2.x/cli":"docs","docs/0.1.x/tutorials/first_app/template":"docs","docs/0.3.0-0.3.3/deploying/serverful":"docs","docs/0.1.x/tutorials/first_app/app":"docs","docs/0.1.x/setup":"docs","docs/fundamentals/head-headers":"docs","docs/first-app/generating-pages":"docs","docs/0.2.x/advanced/intro":"docs","docs/0.3.0-0.3.3/i18n/using":"docs","docs/0.2.x/i18n/using":"docs","docs/first-app/dev-cycle":"docs","docs/0.3.4/reference/strategies/intro":"docs","docs/next/quickstart":"docs","docs/0.4.x/what-is-perseus":"docs","docs/0.3.0-0.3.3/plugins/using":"docs","docs/0.3.0-0.3.3/deploying/serverless":"docs","docs/0.3.4/reference/strategies/amalgamation":"docs","docs/0.1.x/serving":"docs","docs/0.2.x/config-managers":"docs","docs/0.4.x/migrating":"docs","docs/0.3.4/reference/views":"docs","docs/0.4.x/fundamentals/head-headers":"docs","docs/next/state/amalgamation":"docs","docs/0.4.x/fundamentals/hydration":"docs","docs/0.2.x/hello-world":"docs","docs/0.3.0-0.3.3/plugins/writing":"docs","docs/0.2.x/templates/intro":"docs","docs/first-app/installation":"docs","docs/core-principles":"docs","docs/faq":"docs","docs/0.2.x/i18n/intro":"docs","docs/0.3.4/reference/snooping":"docs","docs/fundamentals/i18n":"docs","docs/0.3.4/reference/hydration":"docs","docs/0.3.4/tutorials/second-app":"docs","docs/0.4.x/first-app/installation":"docs","docs/0.3.0-0.3.3/intro":"docs","docs/state/suspense":"docs","docs/0.3.4/reference/styling":"docs","docs/0.4.x/fundamentals/testing":"docs","docs/0.4.x/fundamentals/serving-exporting":"docs","docs/0.3.4/reference/testing/manual":"docs","docs/0.1.x/error_pages":"docs","docs/state/build":"docs","docs/0.3.4/reference/i18n/translations-managers":"docs","docs/0.3.0-0.3.3/snooping":"docs","docs/0.4.x/state/manual":"docs","docs/0.2.x/advanced/arch":"docs","docs/0.3.4/reference/templates/intro":"docs","docs/0.3.0-0.3.3/server-communication":"docs","docs/next/intro":"docs","docs/0.3.4/advanced/initial-loads":"docs","docs/0.3.0-0.3.3/styling":"docs","docs/0.3.0-0.3.3/pitfalls-and-bugs":"docs","docs/0.3.4/reference/deploying/docker":"docs","docs/next/capsules/intro":"docs","docs/0.3.0-0.3.3/testing/manual":"docs","docs/0.2.x/styling":"docs","docs/0.1.x/strategies/build_paths":"docs"}`;

        import init from "https://framesurge.sh/perseus/.perseus/bundle.js";
        async function main() {
            await init("https://framesurge.sh/perseus/.perseus/bundle.wasm");
        }
        main();

        
        

window.__PERSEUS_GLOBAL_STATE = `null`;</script><meta itemprop=__perseus_head_boundary><title>Build-time state | Perseus Docs</title><link rel=stylesheet href=.perseus/static/styles/markdown.css><link rel=stylesheet href=.perseus/static/styles/docs_links_markdown.css><link rel=stylesheet href=.perseus/static/prism.css><script>
window.__PERSEUS_INITIAL_STATE = `{"content":"<h1>Build-time state</h1>\\n<p>The most commonly used part of the Perseus state platform is the <em>build-time state</em> system, which generates state when you run <code>perseus build</code> (or one of the other commands that invokes it, like <code>serve</code>, <code>export</code>, etc.). There are two main parts to the build state system: <em>build paths</em>, and <em>build state</em> itself.</p>\\n<h2>Build state</h2>\\n<p>The fundamental idea of build state is very simple: you define an asynchronous function that does whatever it wants, and eventually comes back with some state, and then Perseus runs that function during the build process, and saves that state to an internal file (in the magical depths of <code>dist/</code>) for later use. This also allows Perseus to prerender any pages using build state to HTML as soon as their state is ready, meaning they can be served almost instantly when they're requested.</p>\\n<p>Using build state is very simple, here's an example.</p>\\n<pre><code class=\\"language-rust\\">use perseus::prelude::*;\\nuse serde::{Deserialize, Serialize};\\nuse sycamore::prelude::*;\\n\\n#[derive(Serialize, Deserialize, Clone, ReactiveState)]\\n#[rx(alias = &quot;PageStateRx&quot;)]\\nstruct PageState {\\n    greeting: String,\\n}\\n\\nfn build_state_page&lt;'a, G: Html&gt;(cx: BoundedScope&lt;'_, 'a&gt;, state: &amp;'a PageStateRx) -&gt; View&lt;G&gt; {\\n    view! { cx,\\n        p { (state.greeting.get()) }\\n    }\\n}\\n\\npub fn get_template&lt;G: Html&gt;() -&gt; Template&lt;G&gt; {\\n    Template::build(&quot;build_state&quot;)\\n        .build_state_fn(get_build_state)\\n        .view_with_state(build_state_page)\\n        .build()\\n}\\n\\n// We're told the path we're generating for (useless unless we're using build\\n// paths as well) and the locale (which will be \`xx-XX\` if we're not using i18n)\\n// Note that this function is asynchronous, so we can do work like fetching from\\n// a server or the like here (see the \`demo/fetching\` example), along with any\\n// helper state we generated with build paths (which we aren't using, hence the\\n// \`()\`)\\n//\\n// This returns a \`Result\` with a \`BlamedError\`, because, if we were using\\n// *incremental generation*, then build state might be executed again in future\\n// (see \`incremental_generation.rs\` for an example of that).\\n#[engine_only_fn]\\nasync fn get_build_state(\\n    _info: StateGeneratorInfo&lt;()&gt;,\\n) -&gt; Result&lt;PageState, BlamedError&lt;std::io::Error&gt;&gt; {\\n    Ok(PageState {\\n        greeting: &quot;Hello World!&quot;.to_string(),\\n    })\\n}\\n\\n</code></pre>\\n<p>The main features of this file are the definition of a state type (see <a href=\\"https://framesurge.sh/perseus/en-US/docs/0.4.x/first-app/generating-pages\\">here</a> for a refresher on this) <code>PageState</code> that's reactive, and the use of <code>.build_state_fn()</code> on the <code>Template</code> definition. A function is then provided to this that meets a certain set of criteria: it has to be <code>async</code>, it can return an error or be infallible, and it has to return something that makes sense as a state type (i.e. something that you've derived either <code>ReactiveState</code> or <code>UnreactiveState</code> on).</p>\\n<p>Now let's drill into what's happening in that <code>get_build_state</code> function. Obviously the logic is very simple, it's just returning a static string, but this could be entirely arbtirary. You could fetch from a database here, you could perform complex calculations, heck, you could deploy an army of carrier pigeons and wait for sensor events that tell you when a certain portion have returned if you really want!</p>\\n<p>The important thing to understand about build state more generally is the signature of this function. It's <code>async</code>, as explained earlier, and has access to a <a href=\\"https://tokio.rs\\">Tokio</a> 1.x runtime. It takes a single argument (unused here) of the type <a href=\\"https://docs.rs/perseus/0.4/perseus/prelude/struct.StateGeneratorInfo.html\\"><code>StateGeneratorInfo</code></a>, which is actually extremely simple, it's just an organizational type. All it stores is the path to the page being built (e.g. if you're building state for <code>/post/foo</code> in the <code>post</code> template, this would be <code>foo</code>), the locale being built for, and any <a href=\\"https://framesurge.sh/perseus/en-US/docs/0.4.x/state/helper\\">helper state</a> you might have defined (which is what the generic is for). Here, we haven't defined any helper state, so the generic is set to the unit type <code>()</code>.</p>\\n<h3>Error handling</h3>\\n<p>As mentioned, functions that generate build state can either be <em>infallible</em> (meaning they can't return errors, and they just return the state type), or <em>fallible</em> (meaning they return a <code>Result</code>). As much as possible, you should avoid <code>panic!</code>ing in any state generation functions, especially in apps using features like revalidation or incremental generation, since, if any of those panics occur on the client-side, the server will have to manage panicking threads. This is fine, and your app will be unaffected for other users, but it's terrible practice and will lead to the user whose query caused the panic waiting forever for a page to load that never will. Not ideal! Instead, try to gracefully return errors wherever you can, so that Perseus can convert those into nice <a href=\\"https://framesurge.sh/perseus/en-US/docs/0.4.x/fundamentals/error-views\\">error views</a>.</p>\\n<p>But, you might be thinking, doesn't this function only run at build-time? Well, that's the reason for that <a href=\\"https://docs.rs/perseus/0.4/perseus/prelude/struct.BlamedError.html\\"><code>BlamedError</code></a> type wrapping our error type here. Now, you can return any error from any Perseus state generation function, as long as it implements <code>std::error::Error</code>, but some of them will require you to wrap it in this <code>BlamedError&lt;E&gt;</code> type, where <code>E</code> is your error. This is a special type that annotates your error with an <a href=\\"https://docs.rs/perseus/0.4/perseus/prelude/enum.ErrorBlame.html\\"><code>ErrorBlame</code></a>, which says who was responsible for the error: either the client, or the server.</p>\\n<p>But, again, doesn't this function only run at build-time? How can the client possibly be responsible for any failure there? They can't be, of course, but, if you're using a feature like <a href=\\"https://framesurge.sh/perseus/en-US/docs/0.4.x/state/revalidation\\">revalidation</a>, where build-time state is updated at request-time, it is entirely possible that this function will be executed at request-time, and a user could be responsible for any errors then. In this example, that can't happen, but Perseus doesn't know that.</p>\\n<p>Conveniently, <code>BlamedError</code> has a number of helpful conversions available to it that allow you to automatically convert from your error type into it. For instance, if you were to return some error <code>err</code>, you could do so with <code>return Err(err.into())</code>, or <code>result?</code> (since the <code>?</code> operator automatically attempts a conversion). Such automatic conversions will implicitly blame the server for the error (which is usually what you want). The one time this can become annoying is when you have a complex error type with multiple subtypes (e.g. <code>MyError</code> has variants for <code>MyFooError</code> and <code>MyBarError</code>). Even if you've implemented <code>From&lt;MyFooError&gt; for MyError</code>, you still can't use <code>?</code> as usual, because there are <em>two</em> conversions that need to take place: the one into <code>MyError</code>, and then another into <code>BlamedError&lt;MyError&gt;</code>. Until Rust supports custom implementations of <code>?</code> (which will alleviate this problem entirely), the best you can do is <code>my_foo_result.map_err(MyError::from)?</code>, which will handle both conversions relatively briefly.</p>\\n<p>This same error handling behavior applies for the vast majority of Perseus state generation functions.</p>\\n<h2>Build paths</h2>\\n<p>Build paths are a very simple strategy that allows you to return a list of pages that should be rendered within your template. For example, if you return a list containing <code>foo</code>, <code>bar</code>, and <code>baz</code> for the <code>test</code> template, you'll get pages <code>/test/foo</code>, <code>/test/bar</code>, and <code>/test/baz</code>. If you also returned <code>foo/bar/baz</code>, you'd get another page <code>/test/foo/bar/baz</code>, which is perfectly acceptable.</p>\\n<details>\\n<summary>Can two templates have conflicting paths?</summary>\\n<p>No, because templates can only render paths within their own path. However, it's possible to have a situation where you have, say, one template called <code>foo</code> that renders a page <code>bar</code>, leading to <code>/foo/bar</code>, and another template actually named <code>foo/bar</code> (since templates can be at lower paths). This would be a problem, and only one page would be resolved (depending on the order of the build process, which is parallelized, this could be either). If the <code>foo</code> template is using incremental generation though, don't worry, since exact paths are always given priority over incremental ones. 99.9% of the time, you will not have to worry about routing conflicts like this.</p>\\n</details>\\n<p>Here's an example of using build paths:</p>\\n<pre><code class=\\"language-rust\\">use perseus::prelude::*;\\nuse serde::{Deserialize, Serialize};\\nuse sycamore::prelude::*;\\n\\n#[derive(Serialize, Deserialize, Clone, ReactiveState)]\\n#[rx(alias = &quot;PageStateRx&quot;)]\\nstruct PageState {\\n    title: String,\\n    content: String,\\n}\\n\\nfn build_paths_page&lt;'a, G: Html&gt;(cx: BoundedScope&lt;'_, 'a&gt;, state: &amp;'a PageStateRx) -&gt; View&lt;G&gt; {\\n    view! { cx,\\n        h1 {\\n            (format!(&quot;build_paths/{}&quot;, state.title.get()))\\n        }\\n        p {\\n            (state.content.get())\\n        }\\n    }\\n}\\n\\npub fn get_template&lt;G: Html&gt;() -&gt; Template&lt;G&gt; {\\n    Template::build(&quot;build_paths&quot;)\\n        .build_paths_fn(get_build_paths)\\n        .build_state_fn(get_build_state)\\n        .view_with_state(build_paths_page)\\n        .build()\\n}\\n\\n// We take in \`StateGeneratorInfo\`, which has the path we're generating for\\n// (*not* including the template name), along with the locale, and some\\n// arbitrary helper state (which we're not using, hence the \`()\`)\\n//\\n// This could be fallible with a \`BlamedError\`\\n#[engine_only_fn]\\nasync fn get_build_state(info: StateGeneratorInfo&lt;()&gt;) -&gt; PageState {\\n    let title = info.path.clone();\\n    let content = format!(\\n        &quot;This is a post entitled 'build_paths/{}'. Its original slug was 'build_paths/{}'.&quot;,\\n        &amp;title, &amp;info.path\\n    );\\n\\n    PageState { title, content }\\n}\\n\\n// This just returns a special \`struct\` containing all the paths we want to\\n// generate underneath \`build_paths\` (the template's name and root path). Like\\n// for build state, this function is asynchronous, so you could fetch these\\n// paths from a database or the like Note that everything you export from here\\n// will be prefixed with \`&lt;template-name&gt;/\` when it becomes a URL in your app\\n//\\n// Note also that there's almost no point in using build paths without build\\n// state, as every page would come out exactly the same (unless you\\n// differentiated them on the client...)\\n//\\n// This could return \`BuildPaths\` directly; this example just shows that it\\n// could also return an error (which is *not* blamed, since this function, which\\n// generates paths at build-time, is only going to be run at...well, build-time,\\n// so the client can't be responsible for any errors we might encounter)\\n#[engine_only_fn]\\nasync fn get_build_paths() -&gt; Result&lt;BuildPaths, std::convert::Infallible&gt; {\\n    Ok(BuildPaths {\\n        // These are the paths we want to generate for, with an empty string being at the root of\\n        // the template name (here, \`/build_paths\`)\\n        paths: vec![\\n            &quot;&quot;.to_string(),\\n            &quot;test&quot;.to_string(),\\n            &quot;blah/test/blah&quot;.to_string(),\\n            &quot;a test&quot;.to_string(), // Perseus can even handle paths with special characters!\\n        ],\\n        // Sometimes, you want to do something once to generate some helper state for building each\\n        // page, and you can put literally anything in here (but we're not using it).\\n        // The \`.into()\` makes sure Perseus can understand whatever we put in here.\\n        extra: ().into(),\\n    })\\n}\\n\\n</code></pre>\\n<p>This may look slightly more intimidating than the previous example, but all that's been added is a new <code>get_build_paths</code> function, which is basically identical in terms of error handling, etc. to <code>get_build_state</code>, except it will <em>never</em> be run at request-time, so it can return a normal error, which will be blamed on the server. It also returns an organizational type <a href=\\"https://docs.rs/perseus/0.4/perseus/prelude/struct.BuildPaths.html\\"><code>BuildPaths</code></a>, which has two parameters: the first is a list of paths, and the second is an <code>extra</code> property, which relates to <a href=\\"https://framesurge.sh/perseus/en-US/docs/0.4.x/state/helper\\">helper build state</a>. Since we're not using it here, we just use <code>()</code>, converted into what Perseus expects with <code>.into()</code> (you can read more about this <a href=\\"https://framesurge.sh/perseus/en-US/docs/0.4.x/state/helper\\">here</a>).</p>\\n<p>The main thing about build paths is that list, which contains an empty string (which will, since the name of this template has been set to <code>build_paths</code>, for demonstration purposes, render at <code>/build_paths</code>, since the empty string indicates the page at the root of the template), and several other paths. One of these is nested, showing that that's possible, and another contains a space, which Perseus will automatically handle URL encoding/decoding of (since browsers don't like special characters like those, and use a thing called <a href=\\"https://developer.mozilla.org/en-US/docs/Glossary/percent-encoding\\">percent encoding</a> to work around them).</p>\\n<p><em>Note: support for other special characters, especially non-ASCII characters, is currently untested in Perseus. If you have problems with this, please report them, or let us know if things work as expected for you!</em></p>\\n<p>Note that here we've used <code>std::convert::Infallible</code> as the error type to show that you can return errors, but, since this function really is infallible, we could have just returned <code>BuildPaths</code> directly. As with other state generation functions, the build paths function is asynchronous, meaning you can do more complex work without disrupting the rest of the build process.</p>\\n<p>Remember that any paths you don't generate under the template will resolve to <em>404 Not Found</em> errors (e.g. <code>/build_paths/tests</code>, here, because it's not in that list). Also, if you don't explicitly specify the empty string here, the template will have no root page.</p>\\n<p>Finally, notice how <code>get_build_paths</code> works here: we're using the <code>path</code> property of <a href=\\"https://docs.rs/perseus/0.4/perseus/prelude/struct.StateGeneratorInfo.html\\"><code>StateGeneratorInfo</code></a> to produce a <code>PageState</code> that is path-dependent. </p>\\n","current_version":"0.4.x","manifest":{"0.1.x":{"docs_rs":"0.1","git":"v0.1.4","state":"outdated"},"0.2.x":{"docs_rs":"0.2","git":"v0.2.3","state":"outdated"},"0.3.0-0.3.3":{"docs_rs":"0.3.3","git":"v0.3.3","state":"outdated"},"0.3.4":{"docs_rs":"0.3","git":"v0.3.6","state":"outdated"},"0.4.x":{"docs_rs":"0.4","git":"HEAD","state":"stable"}},"sidebar_content":"<h1>Introduction</h1>\\n<ul>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.4.x/intro\\">Introduction</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.4.x/quickstart\\">Quickstart</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.4.x/what-is-perseus\\">What is Perseus?</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.4.x/core-principles\\">Core Principles</a></li>\\n</ul>\\n<h1>Your First App</h1>\\n<ul>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.4.x/first-app/installation\\">Installing Perseus</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.4.x/first-app/defining\\">Defining your app</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.4.x/first-app/generating-pages\\">Generating pages</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.4.x/first-app/dev-cycle\\">Development cycle</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.4.x/first-app/error-handling\\">Error handling</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.4.x/first-app/deploying\\">Deploying your app</a></li>\\n</ul>\\n<h1>Fundamentals</h1>\\n<ul>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.4.x/fundamentals/perseus-app\\"><code>PerseusApp</code></a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.4.x/fundamentals/reactor\\">The reactor</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.4.x/fundamentals/routing\\">Routing and navigation</a>\\n<ul>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.4.x/fundamentals/preloading\\">Preloading</a></li>\\n</ul>\\n</li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.4.x/fundamentals/i18n\\">Internationalization</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.4.x/fundamentals/error-views\\">Error views</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.4.x/fundamentals/hydration\\">Hydration</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.4.x/fundamentals/static-content\\">Static content</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.4.x/fundamentals/head-headers\\">Heads and headers</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.4.x/fundamentals/styling\\">Styling</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.4.x/fundamentals/js-interop\\">Working with JS</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.4.x/fundamentals/serving-exporting\\">Servers and exporting</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.4.x/fundamentals/debugging\\">Debugging</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.4.x/fundamentals/testing\\">Writing tests</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.4.x/fundamentals/plugins\\">Plugins</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.4.x/fundamentals/compilation-times\\">Improving Compilation Times</a></li>\\n</ul>\\n<h1>The State Platform</h1>\\n<ul>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.4.x/state/intro\\">Understanding state</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.4.x/state/build\\">Build-time state</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.4.x/state/request\\">Request-time state</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.4.x/state/revalidation\\">Revalidation</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.4.x/state/incremental\\">Incremental generation</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.4.x/state/amalgamation\\">State amalgamation</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.4.x/state/browser\\">Using state</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.4.x/state/global\\">Global state</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.4.x/state/helper\\">Helper state</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.4.x/state/suspense\\">Suspended state</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.4.x/state/freezing-thawing\\">Freezing and thawing</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.4.x/state/manual\\">Manually implementing <code>ReactiveState</code></a></li>\\n</ul>\\n<h1>Capsules</h1>\\n<ul>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.4.x/capsules/intro\\">Introduction</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.4.x/capsules/using\\">Using capsules</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.4.x/capsules/capsules-vs-components\\">Capsules vs. components</a></li>\\n</ul>\\n<h1>Miscellaneous</h1>\\n<ul>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.4.x/migrating\\">Migrating from v0.3.x</a></li>\\n<li><a href=\\"https://framesurge.sh/perseus/en-US/docs/0.4.x/faq\\">Common pitfalls and FAQs</a></li>\\n</ul>\\n","status":"Stable","title":"Build-time state"}`;
window.__PERSEUS_INITIAL_WIDGET_STATES = `{}`;
window.__PERSEUS_TRANSLATIONS = `{
    "perseus": "Perseus",
    "sycamore": "Sycamore",
    "navlinks.docs": "Docs",
    "navlinks.comparisons": "Comparisons",
    "navlinks.plugins": "Plugins",
    "index-intro.heading": "The Rust framework for the modern web",
    "index-intro.get-started-button": "Get started now",
    "index-intro.github-button": "GitHub",
    "index-state-gen.heading": "Generate state, on your terms",
    "index-state-gen.desc": "Perseus apps can generate state whenever they like and pass it to <a href=\\"https://github.com/sycamore-rs/sycamore\\" class=\\"underline\\">Sycamore</a>, one of the fastest web frameworks in the world.",
    "index-i18n.heading.start": "I18n",
    "index-i18n.heading.rest": " that just works",
    "index-i18n.heading.tooltip": "Internationalization",
    "index-i18n.desc": "Just add translations using <a href=\\"https://projectfluent.org\\" class=\\"underline\\">Fluent</a>, and your app can be set up in seconds in multiple languages, with automatic user locale detection.",
    "index-opts.heading": "You want options? We got options.",
    "index-opts.desc": "Perseus comes with a built-in plugins system and full customizability of almost every part of the system. Static exporting? Serverful deployment? Fetch data by carrier pigeon? Easy.",
    "index-speed.heading": "Fast. Crazy. Fast.",
    "index-speed.desc-line-1": "Underlying platform? <strong>Rust.</strong>",
    "index-speed.desc-line-2": "Target platform? <strong>WebAssembly.</strong>",
    "index-speed.desc-line-3": "Lighthouse scores? <strong>💯</strong>",
    "index-speed.desktop-perf-label": "Performance (Desktop)",
    "index-speed.mobile-perf-label": "Performance (Mobile)",
    "index-speed.best-practices-label": "Best Practices",
    "index-cta.heading": "Get started with Perseus today!",
    "index-cta.docs-button": "Docs",
    "index-cta.gh-button": "GitHub",
    "index-cta.api-docs-button": "API Docs",
    "index-cta.crates-io-button": "Crates.io",
    "index-cta.matrix-button": "Matrix",
    "index-cta.discord-button": "Discord",
    "index-cta.comparisons-button": "Comparisons",
    "footer.copyright": "© <a href=\\"https://github.com/arctic-hen7\\" class=\\"underline\\">arctic-hen7</a> { $years }, see license <a href=\\"https://github.com/framesurge/perseus/blob/main/LICENSE\\" class=\\"underline\\">here</a>.",
    "comparisons-title": "Comparisons to Other Frameworks",
    "comparisons-heading": "Comparisons",
    "comparisons-subtitle": "See how Perseus compares to other web development frameworks.",
    "comparisons-extra": "Is there anything we're missing here? Please <a href =\\"https://github.com/framesurge/perseus/issues/new/choose\\" class=\\"underline\\">open an issue</a> and let us know!",
    "comparisons-table-header": "Comparison",
    "comparisons-table-headings.name": "Name",
    "comparisons-table-headings.supports_ssg": "Static generation",
    "comparisons-table-headings.supports_ssr": "Server-side rendering",
    "comparisons-table-headings.supports_ssr_ssg_same_page": "SSG & SSR in same page",
    "comparisons-table-headings.supports_i18n": "Internationalization",
    "comparisons-table-headings.supports_incremental": "Incremental generation",
    "comparisons-table-headings.supports_revalidation": "Revalidation",
    "comparisons-table-headings.inbuilt_cli": "Inbuilt CLI",
    "comparisons-table-headings.inbuilt_routing": "Routing support",
    "comparisons-table-headings.supports_shell": "App shell",
    "comparisons-table-headings.supports_deployment": "Easy deployment",
    "comparisons-table-headings.supports_exporting": "Static exporting",
    "comparisons-table-headings.language": "Language",
    "comparisons-table-headings.homepage_lighthouse_desktop": "Homepage Lighthouse Score (Desktop)",
    "comparisons-table-headings.homepage_lighthouse_mobile": "Homepage Lighthouse Score (Mobile)",
    "comparisons-table-details.supports_ssg": "Whether or not the framework supports pre-rendering pages at build-time.",
    "comparisons-table-details.supports_ssr": "Whether or not the framework supports rendering pages dynamically when they're requested.",
    "comparisons-table-details.supports_ssr_ssg_same_page": "Whether or not the framework supports SSG and SSR (see above) in the very same page.",
    "comparisons-table-details.supports_i18n": "Whether or not the framework supports building a multilingual app. Some frameworks support this through plugins.",
    "comparisons-table-details.supports_incremental": "Whether or not the framework supports rendering pages on-demand and then caching them for future use.",
    "comparisons-table-details.supports_revalidation": "Whether or not the framework supports rebuilding pages that were built at build-time at request-time. Some frameworks can do this by time, or by custom logic. Perseus supports both.",
    "comparisons-table-details.inbuilt_cli": "Whether or not the framework has a command-line interface for convenient usage. Some frameworks use third-party CLIs.",
    "comparisons-table-details.inbuilt_routing": "Whether or not the framework supports inbuilt routing. Most frameworks have their own way of doing this if they do support it.",
    "comparisons-table-details.supports_shell": "Whether or not this framework has an app shell, which makes switching pages much faster and cleaner.",
    "comparisons-table-details.supports_deployment": "Whether or not this framework supports easy deployment. Perseus can deploy in one command.",
    "comparisons-table-details.supports_exporting": "Whether or not this framework can operate without a server, as a series of purely static files.",
    "comparisons-table-details.language": "The programming language this framework is built in. (Hint: Rust is the fastest!)",
    "comparisons-table-details.homepage_lighthouse_desktop": "The Lighthouse score out of 100 for desktop (higher is better). These are collected from Google's PageSpeed Insights tool. These are for the framework's website, and may not reflect the performance of all sites made with the framework.",
    "comparisons-table-details.homepage_lighthouse_mobile": "The Lighthouse score out of 100 for mobile (higher is better). These are collected from Google's PageSpeed Insights tool. These are for the framework's website, and may not reflect the performance of all sites made with the framework.",
    "comparisons-sycamore-heading": "Perseus vs Sycamore",
    "comparisons-sycamore-text": "Perseus is a framework that uses Sycamore to write views (the things users see), so there's not much point in comparing the two as competitors. However, Sycamore can be used without Perseus, which works perfectly well, though you'll miss out on features like inbuilt internationalization, static generation (though you could build this yourself), and incremental generation. If you want to build just a bit of your site with Rust, Sycamore is the perfect tool, Perseus is a full framework designed for building entire websites.",
    "comparisons-unknown-heading": "Perseus vs { $name }",
    "docs-title-base": "Perseus Docs",
    "docs-status.outdated": "This version of the documentation is outdated, and features documented here may work differently now. You can see the latest stable version of the docs <a href=\\"en-US/docs/{ $stable }/intro\\" class=\\"underline\\">here</a>.",
    "docs-status.beta": "This version of the documentation is for a version that has only been released in beta, and is not yet stable. Features documented here may not be present in the latest stable version, and they're subject to rapid and drastic change. You can see the latest stable version of the docs <a href=\\"en-US/docs/{ $stable }/intro\\" class=\\"underline\\">here</a>.",
    "docs-status.next": "This version of the documentation is for a version that has not yet been released, and features documented here may not be present in the latest release. You can see the latest stable version of the docs <a href=\\"en-US/docs/{ $stable }/intro\\" class=\\"underline\\">here</a>.",
    "docs-version-switcher.next": "Next (unreleased)",
    "docs-version-switcher.beta": "v{ $version } (beta)",
    "docs-version-switcher.stable": "v{ $version } (stable)",
    "docs-version-switcher.outdated": "v{ $version } (outdated)",
    "plugins-title": "Plugins",
    "plugins-title-full": "Perseus Plugins",
    "plugin-card-author": "By { $author }",
    "plugin-details.repo_link": "Repository:",
    "plugin-details.crates_link": "Crate page:",
    "plugin-details.docs_link": "Docs:",
    "plugin-details.site_link": "Site:",
    "plugin-details.metadata_heading": "Metadata",
    "plugin-details.no_link_text": "N/A",
    "plugin-search.placeholder": "Search",
    "plugin-search.no_results": "No results found.",
    "plugins-desc": "These are all the public plugins for Perseus! If you've made a plugin, and you'd like it to be listed here, please open an issue on our repository!",
    "search": "Search the docs",
    "index-example-switcher.excerpts": "Excerpts",
    "index-example-switcher.full": "Full"
}
`;</script><meta itemprop=__perseus_head_end><script>//</script><body class="bg-white dark:bg-neutral-900"><div id=root><header data-hk=8.0 class="shadow-md sm:p-2 w-full mb-20 bg-neutral-500/30 backdrop-blur-lg text-black dark:text-white"><div data-hk=8.1 class="flex justify-between items-center"><a data-hk=8.2 class="justify-self-start self-center m-3 ml-5 text-md sm:text-2xl text-bold title-font"href=en-US/>Perseus</a><div data-hk=8.3 class="md:hidden m-3 mr-5 tham tham-e-spin tham-w-6"><div data-hk=8.4 class=tham-box><div data-hk=8.5 class="tham-inner bg-black dark:bg-white"></div></div></div><nav data-hk=8.6 class="hidden md:flex"><ul data-hk=8.7 class="mr-5 flex"><li data-hk=9.0 class="m-3 p-1 title-font"><a data-hk=9.1 href=en-US/docs class=px-2>Docs</a><li data-hk=9.2 class="m-3 p-1 title-font"><a data-hk=9.3 href=en-US/comparisons class=px-2>Comparisons</a><li data-hk=9.4 class="m-3 p-1 title-font"><a data-hk=9.5 href=en-US/plugins class=px-2>Plugins</a></ul></nav></div><nav data-hk=8.8 id=mobile_nav_menu class="md:hidden w-full text-center justify-center hidden"><ul data-hk=8.9 class=mr-5><li data-hk=10.0 class="m-3 p-1 title-font"><a data-hk=10.1 href=en-US/docs class=px-2>Docs</a><li data-hk=10.2 class="m-3 p-1 title-font"><a data-hk=10.3 href=en-US/comparisons class=px-2>Comparisons</a><li data-hk=10.4 class="m-3 p-1 title-font"><a data-hk=10.5 href=en-US/plugins class=px-2>Plugins</a></ul><hr data-hk=2.0><div data-hk=2.1 class="text-left p-3 overflow-y-scroll h-[60vh]"><div data-hk=2.2 class="flex w-full justify-center text-center"><div data-hk=2.3 class="max-w-3xl flex flex-col"><select data-hk=4.4 class="p-2 rounded-md text-white bg-indigo-500"><option data-hk=4.5 value=next>Next (unreleased)<option data-hk=4.6 value=0.4.x selected>v0.4.x (stable)<option data-hk=4.0 value=0.3.4>v0.3.4 (outdated)<option data-hk=4.1 value=0.3.0-0.3.3>v0.3.0-0.3.3 (outdated)<option data-hk=4.2 value=0.2.x>v0.2.x (outdated)<option data-hk=4.3 value=0.1.x>v0.1.x (outdated)</select></div></div><div data-hk=2.4 class=docs-links-markdown><h1>Introduction</h1><ul><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/intro>Introduction</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/quickstart>Quickstart</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/what-is-perseus>What is Perseus?</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/core-principles>Core Principles</a></ul><h1>Your First App</h1><ul><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/first-app/installation>Installing Perseus</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/first-app/defining>Defining your app</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/first-app/generating-pages>Generating pages</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/first-app/dev-cycle>Development cycle</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/first-app/error-handling>Error handling</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/first-app/deploying>Deploying your app</a></ul><h1>Fundamentals</h1><ul><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/fundamentals/perseus-app><code>PerseusApp</code></a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/fundamentals/reactor>The reactor</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/fundamentals/routing>Routing and navigation</a> <ul><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/fundamentals/preloading>Preloading</a></ul><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/fundamentals/i18n>Internationalization</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/fundamentals/error-views>Error views</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/fundamentals/hydration>Hydration</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/fundamentals/static-content>Static content</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/fundamentals/head-headers>Heads and headers</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/fundamentals/styling>Styling</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/fundamentals/js-interop>Working with JS</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/fundamentals/serving-exporting>Servers and exporting</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/fundamentals/debugging>Debugging</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/fundamentals/testing>Writing tests</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/fundamentals/plugins>Plugins</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/fundamentals/compilation-times>Improving Compilation Times</a></ul><h1>The State Platform</h1><ul><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/state/intro>Understanding state</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/state/build>Build-time state</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/state/request>Request-time state</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/state/revalidation>Revalidation</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/state/incremental>Incremental generation</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/state/amalgamation>State amalgamation</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/state/browser>Using state</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/state/global>Global state</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/state/helper>Helper state</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/state/suspense>Suspended state</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/state/freezing-thawing>Freezing and thawing</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/state/manual>Manually implementing <code>ReactiveState</code></a></ul><h1>Capsules</h1><ul><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/capsules/intro>Introduction</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/capsules/using>Using capsules</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/capsules/capsules-vs-components>Capsules vs. components</a></ul><h1>Miscellaneous</h1><ul><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/migrating>Migrating from v0.3.x</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/faq>Common pitfalls and FAQs</a></ul></div></div></nav></header><main data-hk=2.16 id=scroll-container><div data-hk=2.5 class="flex w-full"><div data-hk=2.6 class="h-screen pt-14 xs:pt-16 sm:pt-20 lg:pt-25 hidden md:block max-w-xs w-full border-r overflow-y-auto"><div data-hk=2.7 class=mr-5><div data-hk=2.8 class="text-left text-black dark:text-white p-3"><aside data-hk=2.9><div data-hk=2.10 class="flex flex-col"><select data-hk=6.4 class="p-2 rounded-md text-white bg-indigo-500"><option data-hk=6.5 value=next>Next (unreleased)<option data-hk=6.6 value=0.4.x selected>v0.4.x (stable)<option data-hk=6.0 value=0.3.4>v0.3.4 (outdated)<option data-hk=6.1 value=0.3.0-0.3.3>v0.3.0-0.3.3 (outdated)<option data-hk=6.2 value=0.2.x>v0.2.x (outdated)<option data-hk=6.3 value=0.1.x>v0.1.x (outdated)</select></div><div data-hk=2.11 class=docs-links-markdown><h1>Introduction</h1><ul><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/intro>Introduction</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/quickstart>Quickstart</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/what-is-perseus>What is Perseus?</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/core-principles>Core Principles</a></ul><h1>Your First App</h1><ul><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/first-app/installation>Installing Perseus</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/first-app/defining>Defining your app</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/first-app/generating-pages>Generating pages</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/first-app/dev-cycle>Development cycle</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/first-app/error-handling>Error handling</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/first-app/deploying>Deploying your app</a></ul><h1>Fundamentals</h1><ul><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/fundamentals/perseus-app><code>PerseusApp</code></a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/fundamentals/reactor>The reactor</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/fundamentals/routing>Routing and navigation</a> <ul><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/fundamentals/preloading>Preloading</a></ul><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/fundamentals/i18n>Internationalization</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/fundamentals/error-views>Error views</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/fundamentals/hydration>Hydration</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/fundamentals/static-content>Static content</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/fundamentals/head-headers>Heads and headers</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/fundamentals/styling>Styling</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/fundamentals/js-interop>Working with JS</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/fundamentals/serving-exporting>Servers and exporting</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/fundamentals/debugging>Debugging</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/fundamentals/testing>Writing tests</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/fundamentals/plugins>Plugins</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/fundamentals/compilation-times>Improving Compilation Times</a></ul><h1>The State Platform</h1><ul><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/state/intro>Understanding state</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/state/build>Build-time state</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/state/request>Request-time state</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/state/revalidation>Revalidation</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/state/incremental>Incremental generation</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/state/amalgamation>State amalgamation</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/state/browser>Using state</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/state/global>Global state</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/state/helper>Helper state</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/state/suspense>Suspended state</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/state/freezing-thawing>Freezing and thawing</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/state/manual>Manually implementing <code>ReactiveState</code></a></ul><h1>Capsules</h1><ul><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/capsules/intro>Introduction</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/capsules/using>Using capsules</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/capsules/capsules-vs-components>Capsules vs. components</a></ul><h1>Miscellaneous</h1><ul><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/migrating>Migrating from v0.3.x</a><li><a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/faq>Common pitfalls and FAQs</a></ul></div></aside></div></div></div><div data-hk=2.12 class="h-screen pt-14 xs:pt-16 sm:pt-20 lg:pt-25 grid grid-rows-[1fr_min-content] w-full overflow-y-auto"><div data-hk=2.13 class="px-3 w-full sm:mr-auto sm:ml-auto sm:max-w-prose lg:max-w-3xl xl:max-w-4xl 2xl:max-w-5xl min-w-0"><main data-hk=2.14 class="text-black dark:text-white"><div data-hk=1.0 class="markdown min-w-0 pb-10"><h1>Build-time state</h1><p>The most commonly used part of the Perseus state platform is the <em>build-time state</em> system, which generates state when you run <code>perseus build</code> (or one of the other commands that invokes it, like <code>serve</code>, <code>export</code>, etc.). There are two main parts to the build state system: <em>build paths</em>, and <em>build state</em> itself.<h2>Build state</h2><p>The fundamental idea of build state is very simple: you define an asynchronous function that does whatever it wants, and eventually comes back with some state, and then Perseus runs that function during the build process, and saves that state to an internal file (in the magical depths of <code>dist/</code>) for later use. This also allows Perseus to prerender any pages using build state to HTML as soon as their state is ready, meaning they can be served almost instantly when they're requested.<p>Using build state is very simple, here's an example.<pre><code class=language-rust>use perseus::prelude::*;
use serde::{Deserialize, Serialize};
use sycamore::prelude::*;

#[derive(Serialize, Deserialize, Clone, ReactiveState)]
#[rx(alias = "PageStateRx")]
struct PageState {
    greeting: String,
}

fn build_state_page<'a, G: Html>(cx: BoundedScope<'_, 'a>, state: &'a PageStateRx) -> View&LTG> {
    view! { cx,
        p { (state.greeting.get()) }
    }
}

pub fn get_template&LTG: Html>() -> Template&LTG> {
    Template::build("build_state")
        .build_state_fn(get_build_state)
        .view_with_state(build_state_page)
        .build()
}

// We're told the path we're generating for (useless unless we're using build
// paths as well) and the locale (which will be `xx-XX` if we're not using i18n)
// Note that this function is asynchronous, so we can do work like fetching from
// a server or the like here (see the `demo/fetching` example), along with any
// helper state we generated with build paths (which we aren't using, hence the
// `()`)
//
// This returns a `Result` with a `BlamedError`, because, if we were using
// *incremental generation*, then build state might be executed again in future
// (see `incremental_generation.rs` for an example of that).
#[engine_only_fn]
async fn get_build_state(
    _info: StateGeneratorInfo<()>,
) -> Result&LTPageState, BlamedError&LTstd::io::Error>> {
    Ok(PageState {
        greeting: "Hello World!".to_string(),
    })
}

</code></pre><p>The main features of this file are the definition of a state type (see <a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/first-app/generating-pages>here</a> for a refresher on this) <code>PageState</code> that's reactive, and the use of <code>.build_state_fn()</code> on the <code>Template</code> definition. A function is then provided to this that meets a certain set of criteria: it has to be <code>async</code>, it can return an error or be infallible, and it has to return something that makes sense as a state type (i.e. something that you've derived either <code>ReactiveState</code> or <code>UnreactiveState</code> on).<p>Now let's drill into what's happening in that <code>get_build_state</code> function. Obviously the logic is very simple, it's just returning a static string, but this could be entirely arbtirary. You could fetch from a database here, you could perform complex calculations, heck, you could deploy an army of carrier pigeons and wait for sensor events that tell you when a certain portion have returned if you really want!<p>The important thing to understand about build state more generally is the signature of this function. It's <code>async</code>, as explained earlier, and has access to a <a href=https://tokio.rs>Tokio</a> 1.x runtime. It takes a single argument (unused here) of the type <a href=https://docs.rs/perseus/0.4/perseus/prelude/struct.StateGeneratorInfo.html><code>StateGeneratorInfo</code></a>, which is actually extremely simple, it's just an organizational type. All it stores is the path to the page being built (e.g. if you're building state for <code>/post/foo</code> in the <code>post</code> template, this would be <code>foo</code>), the locale being built for, and any <a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/state/helper>helper state</a> you might have defined (which is what the generic is for). Here, we haven't defined any helper state, so the generic is set to the unit type <code>()</code>.<h3>Error handling</h3><p>As mentioned, functions that generate build state can either be <em>infallible</em> (meaning they can't return errors, and they just return the state type), or <em>fallible</em> (meaning they return a <code>Result</code>). As much as possible, you should avoid <code>panic!</code>ing in any state generation functions, especially in apps using features like revalidation or incremental generation, since, if any of those panics occur on the client-side, the server will have to manage panicking threads. This is fine, and your app will be unaffected for other users, but it's terrible practice and will lead to the user whose query caused the panic waiting forever for a page to load that never will. Not ideal! Instead, try to gracefully return errors wherever you can, so that Perseus can convert those into nice <a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/fundamentals/error-views>error views</a>.<p>But, you might be thinking, doesn't this function only run at build-time? Well, that's the reason for that <a href=https://docs.rs/perseus/0.4/perseus/prelude/struct.BlamedError.html><code>BlamedError</code></a> type wrapping our error type here. Now, you can return any error from any Perseus state generation function, as long as it implements <code>std::error::Error</code>, but some of them will require you to wrap it in this <code>BlamedError&LTE></code> type, where <code>E</code> is your error. This is a special type that annotates your error with an <a href=https://docs.rs/perseus/0.4/perseus/prelude/enum.ErrorBlame.html><code>ErrorBlame</code></a>, which says who was responsible for the error: either the client, or the server.<p>But, again, doesn't this function only run at build-time? How can the client possibly be responsible for any failure there? They can't be, of course, but, if you're using a feature like <a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/state/revalidation>revalidation</a>, where build-time state is updated at request-time, it is entirely possible that this function will be executed at request-time, and a user could be responsible for any errors then. In this example, that can't happen, but Perseus doesn't know that.<p>Conveniently, <code>BlamedError</code> has a number of helpful conversions available to it that allow you to automatically convert from your error type into it. For instance, if you were to return some error <code>err</code>, you could do so with <code>return Err(err.into())</code>, or <code>result?</code> (since the <code>?</code> operator automatically attempts a conversion). Such automatic conversions will implicitly blame the server for the error (which is usually what you want). The one time this can become annoying is when you have a complex error type with multiple subtypes (e.g. <code>MyError</code> has variants for <code>MyFooError</code> and <code>MyBarError</code>). Even if you've implemented <code>From&LTMyFooError> for MyError</code>, you still can't use <code>?</code> as usual, because there are <em>two</em> conversions that need to take place: the one into <code>MyError</code>, and then another into <code>BlamedError&LTMyError></code>. Until Rust supports custom implementations of <code>?</code> (which will alleviate this problem entirely), the best you can do is <code>my_foo_result.map_err(MyError::from)?</code>, which will handle both conversions relatively briefly.<p>This same error handling behavior applies for the vast majority of Perseus state generation functions.<h2>Build paths</h2><p>Build paths are a very simple strategy that allows you to return a list of pages that should be rendered within your template. For example, if you return a list containing <code>foo</code>, <code>bar</code>, and <code>baz</code> for the <code>test</code> template, you'll get pages <code>/test/foo</code>, <code>/test/bar</code>, and <code>/test/baz</code>. If you also returned <code>foo/bar/baz</code>, you'd get another page <code>/test/foo/bar/baz</code>, which is perfectly acceptable.<details><summary>Can two templates have conflicting paths?</summary> <p>No, because templates can only render paths within their own path. However, it's possible to have a situation where you have, say, one template called <code>foo</code> that renders a page <code>bar</code>, leading to <code>/foo/bar</code>, and another template actually named <code>foo/bar</code> (since templates can be at lower paths). This would be a problem, and only one page would be resolved (depending on the order of the build process, which is parallelized, this could be either). If the <code>foo</code> template is using incremental generation though, don't worry, since exact paths are always given priority over incremental ones. 99.9% of the time, you will not have to worry about routing conflicts like this.</details><p>Here's an example of using build paths:<pre><code class=language-rust>use perseus::prelude::*;
use serde::{Deserialize, Serialize};
use sycamore::prelude::*;

#[derive(Serialize, Deserialize, Clone, ReactiveState)]
#[rx(alias = "PageStateRx")]
struct PageState {
    title: String,
    content: String,
}

fn build_paths_page<'a, G: Html>(cx: BoundedScope<'_, 'a>, state: &'a PageStateRx) -> View&LTG> {
    view! { cx,
        h1 {
            (format!("build_paths/{}", state.title.get()))
        }
        p {
            (state.content.get())
        }
    }
}

pub fn get_template&LTG: Html>() -> Template&LTG> {
    Template::build("build_paths")
        .build_paths_fn(get_build_paths)
        .build_state_fn(get_build_state)
        .view_with_state(build_paths_page)
        .build()
}

// We take in `StateGeneratorInfo`, which has the path we're generating for
// (*not* including the template name), along with the locale, and some
// arbitrary helper state (which we're not using, hence the `()`)
//
// This could be fallible with a `BlamedError`
#[engine_only_fn]
async fn get_build_state(info: StateGeneratorInfo<()>) -> PageState {
    let title = info.path.clone();
    let content = format!(
        "This is a post entitled 'build_paths/{}'. Its original slug was 'build_paths/{}'.",
        &title, &info.path
    );

    PageState { title, content }
}

// This just returns a special `struct` containing all the paths we want to
// generate underneath `build_paths` (the template's name and root path). Like
// for build state, this function is asynchronous, so you could fetch these
// paths from a database or the like Note that everything you export from here
// will be prefixed with `&LTtemplate-name>/` when it becomes a URL in your app
//
// Note also that there's almost no point in using build paths without build
// state, as every page would come out exactly the same (unless you
// differentiated them on the client...)
//
// This could return `BuildPaths` directly; this example just shows that it
// could also return an error (which is *not* blamed, since this function, which
// generates paths at build-time, is only going to be run at...well, build-time,
// so the client can't be responsible for any errors we might encounter)
#[engine_only_fn]
async fn get_build_paths() -> Result&LTBuildPaths, std::convert::Infallible> {
    Ok(BuildPaths {
        // These are the paths we want to generate for, with an empty string being at the root of
        // the template name (here, `/build_paths`)
        paths: vec![
            "".to_string(),
            "test".to_string(),
            "blah/test/blah".to_string(),
            "a test".to_string(), // Perseus can even handle paths with special characters!
        ],
        // Sometimes, you want to do something once to generate some helper state for building each
        // page, and you can put literally anything in here (but we're not using it).
        // The `.into()` makes sure Perseus can understand whatever we put in here.
        extra: ().into(),
    })
}

</code></pre><p>This may look slightly more intimidating than the previous example, but all that's been added is a new <code>get_build_paths</code> function, which is basically identical in terms of error handling, etc. to <code>get_build_state</code>, except it will <em>never</em> be run at request-time, so it can return a normal error, which will be blamed on the server. It also returns an organizational type <a href=https://docs.rs/perseus/0.4/perseus/prelude/struct.BuildPaths.html><code>BuildPaths</code></a>, which has two parameters: the first is a list of paths, and the second is an <code>extra</code> property, which relates to <a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/state/helper>helper build state</a>. Since we're not using it here, we just use <code>()</code>, converted into what Perseus expects with <code>.into()</code> (you can read more about this <a href=https://framesurge.sh/perseus/en-US/docs/0.4.x/state/helper>here</a>).<p>The main thing about build paths is that list, which contains an empty string (which will, since the name of this template has been set to <code>build_paths</code>, for demonstration purposes, render at <code>/build_paths</code>, since the empty string indicates the page at the root of the template), and several other paths. One of these is nested, showing that that's possible, and another contains a space, which Perseus will automatically handle URL encoding/decoding of (since browsers don't like special characters like those, and use a thing called <a href=https://developer.mozilla.org/en-US/docs/Glossary/percent-encoding>percent encoding</a> to work around them).<p><em>Note: support for other special characters, especially non-ASCII characters, is currently untested in Perseus. If you have problems with this, please report them, or let us know if things work as expected for you!</em><p>Note that here we've used <code>std::convert::Infallible</code> as the error type to show that you can return errors, but, since this function really is infallible, we could have just returned <code>BuildPaths</code> directly. As with other state generation functions, the build paths function is asynchronous, meaning you can do more complex work without disrupting the rest of the build process.<p>Remember that any paths you don't generate under the template will resolve to <em>404 Not Found</em> errors (e.g. <code>/build_paths/tests</code>, here, because it's not in that list). Also, if you don't explicitly specify the empty string here, the template will have no root page.<p>Finally, notice how <code>get_build_paths</code> works here: we're using the <code>path</code> property of <a href=https://docs.rs/perseus/0.4/perseus/prelude/struct.StateGeneratorInfo.html><code>StateGeneratorInfo</code></a> to produce a <code>PageState</code> that is path-dependent.</div></main></div><div data-hk=2.15 class=row-start-2><footer data-hk=7.0 class="w-full flex justify-center py-5 bg-black text-white"><p data-hk=7.1 class="mx-5 text-center"><span data-hk=7.2>© <a href=https://github.com/arctic-hen7 class=underline>arctic-hen7</a> 2021-2023, see license <a href=https://github.com/framesurge/perseus/blob/main/LICENSE class=underline>here</a>.</span></footer></div></div></div></main><script data-hk=0.0 src=.perseus/static/prism.js defer></script><script data-hk=0.1>window.Prism.highlightAll();</script></div><div id=__perseus_popup_error></div>